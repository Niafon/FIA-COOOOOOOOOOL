var Zi=e=>{throw TypeError(e)};var Rs=(e,t,n)=>t.has(e)||Zi("Cannot "+n);var g=(e,t,n)=>(Rs(e,t,"read from private field"),n?n.call(e):t.get(e)),j=(e,t,n)=>t.has(e)?Zi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),M=(e,t,n,r)=>(Rs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),H=(e,t,n)=>(Rs(e,t,"access private method"),n);var Fr=(e,t,n,r)=>({set _(s){M(e,t,s,n)},get _(){return g(e,t,r)}});import{r as us,g as Oc}from"./react-lB9TgwmK.js";var Fs={exports:{}},qn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji;function kl(){if(Ji)return qn;Ji=1;var e=us(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,u){var f,l={},d=null,h=null;u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),c.ref!==void 0&&(h=c.ref);for(f in c)r.call(c,f)&&!o.hasOwnProperty(f)&&(l[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)l[f]===void 0&&(l[f]=c[f]);return{$$typeof:t,type:a,key:d,ref:h,props:l,_owner:s.current}}return qn.Fragment=n,qn.jsx=i,qn.jsxs=i,qn}var Yi;function Rl(){return Yi||(Yi=1,Fs.exports=kl()),Fs.exports}var Fl=Rl(),V=us();const Rw=Oc(V),Tc="2.33.3";let Dn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Tc}`},T=class co extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof co?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof co&&n.cause.docsPath||n.docsPath,o=(a=Dn.getDocsUrl)==null?void 0:a.call(Dn,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Dn.version?[`Version: ${Dn.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Tc}walk(t){return kc(this,t)}};function kc(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?kc(e.cause,t):t?null:e}let Rc=class extends T{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Ml extends T{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Nl extends T{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let _l=class extends T{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}},Fc=class extends T{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Mc=class extends T{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Xi extends T{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Rn(e,{dir:t,size:n=32}={}){return typeof e=="string"?It(e,{dir:t,size:n}):jl(e,{dir:t,size:n})}function It(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Mc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function jl(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Mc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}function Me(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function X(e){return Me(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function rt(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const zl=new TextEncoder;function Fn(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ul(e,t):typeof e=="boolean"?Ll(e,t):Me(e)?$e(e,t):Ht(e,t)}function Ll(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Oe(n,{size:t.size}),Rn(n,{size:t.size})):n}const Ze={zero:48,nine:57,A:65,F:70,a:97,f:102};function ea(e){if(e>=Ze.zero&&e<=Ze.nine)return e-Ze.zero;if(e>=Ze.A&&e<=Ze.F)return e-(Ze.A-10);if(e>=Ze.a&&e<=Ze.f)return e-(Ze.a-10)}function $e(e,t={}){let n=e;t.size&&(Oe(n,{size:t.size}),n=Rn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=ea(r.charCodeAt(a++)),u=ea(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new T(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Ul(e,t){const n=U(e,t);return $e(n)}function Ht(e,t={}){const n=zl.encode(e);return typeof t.size=="number"?(Oe(n,{size:t.size}),Rn(n,{dir:"right",size:t.size})):n}function Oe(e,{size:t}){if(X(e)>t)throw new _l({givenSize:X(e),maxSize:t})}function Ve(e,t={}){const{signed:n}=t;t.size&&Oe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ql(e,t={}){let n=e;if(t.size&&(Oe(n,{size:t.size}),n=rt(n)),rt(n)==="0x00")return!1;if(rt(n)==="0x01")return!0;throw new Nl(n)}function it(e,t={}){return Number(Ve(e,t))}function Nc(e,t={}){let n=$e(e);return t.size&&(Oe(n,{size:t.size}),n=rt(n,{dir:"right"})),new TextDecoder().decode(n)}const Dl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function We(e,t={}){return typeof e=="number"||typeof e=="bigint"?U(e,t):typeof e=="string"?Sn(e,t):typeof e=="boolean"?_c(e,t):se(e,t)}function _c(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Oe(n,{size:t.size}),Rn(n,{size:t.size})):n}function se(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Dl[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Oe(r,{size:t.size}),Rn(r,{dir:"right",size:t.size})):r}function U(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new Rc({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Rn(a,{size:r}):a}const Hl=new TextEncoder;function Sn(e,t={}){const n=Hl.encode(e);return se(n,t)}function Ne(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new rd(e.type);return`${e.name}(${fs(e.inputs,{includeName:t})})`}function fs(e,{includeName:t=!1}={}){return e?e.map(n=>Gl(n,{includeName:t})).join(t?", ":","):""}function Gl(e,{includeName:t}){return e.type.startsWith("tuple")?`(${fs(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Vl extends T{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ta extends T{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class jc extends T{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${fs(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Ir extends T{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Wl extends T{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Kl extends T{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${X(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Ql extends T{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Zl extends T{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class na extends T{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class zc extends T{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Jl extends T{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Lc extends T{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class ra extends T{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class An extends T{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Uc extends T{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Yl extends T{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Xl extends T{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ne(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ne(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let ed=class extends T{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Yn extends T{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${fs(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class ls extends T{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ne(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class td extends T{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class nd extends T{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let qc=class extends T{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class rd extends T{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function _e(e){return typeof e[0]=="string"?Mn(e):sd(e)}function sd(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Mn(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}let $t=class extends T{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},ds=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Mr=BigInt(2**32-1),sa=BigInt(32);function od(e,t=!1){return t?{h:Number(e&Mr),l:Number(e>>sa&Mr)}:{h:Number(e>>sa&Mr)|0,l:Number(e&Mr)|0}}function id(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=od(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const ad=(e,t,n)=>e<<n|t>>>32-n,cd=(e,t,n)=>t<<n|e>>>32-n,ud=(e,t,n)=>t<<n-32|e>>>64-n,fd=(e,t,n)=>e<<n-32|t>>>64-n,on=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function si(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Xn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function je(e,...t){if(!si(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ld(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Xn(e.outputLen),Xn(e.blockLen)}function $n(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Dc(e,t){je(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function dd(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Cn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ms(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Le(e,t){return e<<32-t|e>>>t}const hd=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pd(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function yd(e){for(let t=0;t<e.length;t++)e[t]=pd(e[t]);return e}const oa=hd?e=>e:yd,Hc=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",md=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function er(e){if(je(e),Hc)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=md[e[n]];return t}const Je={_0:48,_9:57,A:65,F:70,a:97,f:102};function ia(e){if(e>=Je._0&&e<=Je._9)return e-Je._0;if(e>=Je.A&&e<=Je.F)return e-(Je.A-10);if(e>=Je.a&&e<=Je.f)return e-(Je.a-10)}function oi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Hc)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=ia(e.charCodeAt(o)),a=ia(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function bd(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function hs(e){return typeof e=="string"&&(e=bd(e)),je(e),e}function Tt(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];je(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}let ii=class{};function Gc(e){const t=r=>e().update(hs(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function gd(e=32){if(on&&typeof on.getRandomValues=="function")return on.getRandomValues(new Uint8Array(e));if(on&&typeof on.randomBytes=="function")return Uint8Array.from(on.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const wd=BigInt(0),Hn=BigInt(1),vd=BigInt(2),xd=BigInt(7),Ed=BigInt(256),Pd=BigInt(113),Vc=[],Wc=[],Kc=[];for(let e=0,t=Hn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Vc.push(2*(5*r+n)),Wc.push((e+1)*(e+2)/2%64);let s=wd;for(let o=0;o<7;o++)t=(t<<Hn^(t>>xd)*Pd)%Ed,t&vd&&(s^=Hn<<(Hn<<BigInt(o))-Hn);Kc.push(s)}const Qc=id(Kc,!0),Id=Qc[0],Sd=Qc[1],aa=(e,t,n)=>n>32?ud(e,t,n):ad(e,t,n),ca=(e,t,n)=>n>32?fd(e,t,n):cd(e,t,n);function Ad(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],l=aa(u,f,1)^n[a],d=ca(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=l,e[i+h+1]^=d}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Wc[i],c=aa(s,o,a),u=ca(s,o,a),f=Vc[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Id[r],e[1]^=Sd[r]}Cn(n)}let $d=class Zc extends ii{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Xn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=dd(this.state)}clone(){return this._cloneInto()}keccak(){oa(this.state32),Ad(this.state32,this.rounds),oa(this.state32),this.posOut=0,this.pos=0}update(t){$n(this),t=hs(t),je(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){$n(this,!1),je(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Xn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Dc(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Cn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Zc(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};const Cd=(e,t,n)=>Gc(()=>new $d(t,e,n)),Bd=Cd(1,136,256/8);function ie(e,t){const n=t||"hex",r=Bd(Me(e,{strict:!1})?Fn(e):e);return n==="bytes"?r:We(r)}const Ns=new ds(8192);function ps(e,t){if(Ns.has(`${e}.${t}`))return Ns.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ie(Ht(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Ns.set(`${e}.${t}`,o),o}function un(e,t){if(!Ce(e,{strict:!1}))throw new $t({address:e});return ps(e,t)}const Od=/^0x[a-fA-F0-9]{40}$/,_s=new ds(8192);function Ce(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(_s.has(r))return _s.get(r);const s=Od.test(e)?e.toLowerCase()===e?!0:n?ps(e)===e:!0:!1;return _s.set(r,s),s}function Bn(e,t,n,{strict:r}={}){return Me(e,{strict:!1})?eu(e,t,n,{strict:r}):Xc(e,t,n,{strict:r})}function Jc(e,t){if(typeof t=="number"&&t>0&&t>X(e)-1)throw new Fc({offset:t,position:"start",size:X(e)})}function Yc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&X(e)!==n-t)throw new Fc({offset:n,position:"end",size:X(e)})}function Xc(e,t,n,{strict:r}={}){Jc(e,t);const s=e.slice(t,n);return r&&Yc(s,t,n),s}function eu(e,t,n,{strict:r}={}){Jc(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Yc(s,t,n),s}const Td=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ct(e,t){if(e.length!==t.length)throw new Ql({expectedLength:e.length,givenLength:t.length});const n=kd({params:e,values:t}),r=ci(n);return r.length===0?"0x":r}function kd({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(ai({param:e[r],value:t[r]}));return n}function ai({param:e,value:t}){const n=ui(e.type);if(n){const[r,s]=n;return Fd(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return zd(t,{param:e});if(e.type==="address")return Rd(t);if(e.type==="bool")return Nd(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=tu.exec(e.type)??[];return _d(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Md(t,{param:e});if(e.type==="string")return jd(t);throw new td(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ci(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=X(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(U(t+s,{size:32})),r.push(a),s+=X(a)):n.push(a)}return _e([...n,...r])}function Rd(e){if(!Ce(e))throw new $t({address:e});return{dynamic:!1,encoded:It(e.toLowerCase())}}function Fd(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new qc(e);if(!r&&e.length!==t)throw new Wl({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=ai({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=ci(o);if(r){const a=U(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?_e([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:_e(o.map(({encoded:i})=>i))}}function Md(e,{param:t}){const[,n]=t.type.split("bytes"),r=X(e);if(!n){let s=e;return r%32!==0&&(s=It(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:_e([It(U(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new Kl({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:It(e,{dir:"right"})}}function Nd(e){if(typeof e!="boolean")throw new T(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:It(_c(e))}}function _d(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Rc({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:U(e,{size:32,signed:t})}}function jd(e){const t=Sn(e),n=Math.ceil(X(t)/32),r=[];for(let s=0;s<n;s++)r.push(It(Bn(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:_e([It(U(X(t),{size:32})),...r])}}function zd(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=ai({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ci(r):_e(r.map(({encoded:s})=>s))}}function ui(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const js="/docs/contract/encodeDeployData";function fi(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Vl({docsPath:js});if(!("inputs"in s))throw new ta({docsPath:js});if(!s.inputs||s.inputs.length===0)throw new ta({docsPath:js});const o=ct(s.inputs,n);return Mn([r,o])}function he(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}class li extends T{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class zs extends T{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Ld(e){const t=ie(`0x${e.substring(4)}`).substring(26);return ps(`0x${t}`)}const Ud="modulepreload",qd=function(e){return"/"+e},ua={},nu=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let i=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=i(n.map(u=>{if(u=qd(u),u in ua)return;ua[u]=!0;const f=u.endsWith(".css"),l=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${l}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Ud,f||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),f)return new Promise((h,y)=>{d.addEventListener("load",h),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};async function Dd({hash:e,signature:t}){const n=Me(e)?e:We(e),{secp256k1:r}=await nu(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Pb);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:d}=t,h=Number(d??l),y=fa(h);return new r.Signature(Ve(u),Ve(f)).addRecoveryBit(y)}const i=Me(t)?t:We(t);if(X(i)!==65)throw new Error("invalid signature length");const a=it(`0x${i.slice(130)}`),c=fa(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function fa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ru({hash:e,signature:t}){return Ld(await Dd({hash:e,signature:t}))}class la extends T{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class su extends T{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Hd extends T{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Gd={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Hd({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new su({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new la({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new la({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function di(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Gd);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Vd(e,t="hex"){const n=ou(e),r=di(new Uint8Array(n.length));return n.encode(r),t==="hex"?se(r.bytes):r.bytes}function ou(e){return Array.isArray(e)?Wd(e.map(t=>ou(t))):Kd(e)}function Wd(e){const t=e.reduce((s,o)=>s+o.length,0),n=iu(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Kd(e){const t=typeof e=="string"?$e(e):e,n=iu(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function iu(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new T("Length is too large.")}function Qd(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=ie(Mn(["0x05",Vd([t?U(t):"0x",s,n?U(n):"0x"])]));return r==="bytes"?$e(o):o}async function au(e){const{authorization:t,signature:n}=e;return ru({hash:Qd(t),signature:n??t})}class uo extends T{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Zd extends T{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`],name:"ChainMismatchError"})}}class Jd extends T{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class cu extends T{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Yd({chain:e,currentChainId:t}){if(!e)throw new Jd;if(t!==e.id)throw new Zd({chain:e,currentChainId:t})}const Xd={gwei:9,wei:18},eh={ether:-9,wei:9},th={ether:-18,gwei:-9};function ys(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function be(e,t="wei"){return ys(e,eh[t])}class kt extends T{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(kt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Jr extends T{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${be(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class fo extends T{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${be(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(fo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class lo extends T{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(lo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class ho extends T{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(ho,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class po extends T{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(po,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class yo extends T{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(yo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class mo extends T{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(mo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class bo extends T{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(bo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class go extends T{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(go,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Yr extends T{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${be(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${be(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Yr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Sr extends T{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function hi(e,t="wei"){return ys(e,Xd[t])}function Ar(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class nh extends T{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class rh extends T{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ar(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class sh extends T{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){var y;const h=Ar({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof d<"u"&&`${hi(d)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${be(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${be(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${be(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class uu extends T{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class fu extends T{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class oh extends T{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const re=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n),ih=e=>e,$r=e=>e;class Gt extends T{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${$r(i)}`,t&&`Request body: ${re(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class pi extends T{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${$r(r)}`,`Request body: ${re(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class da extends T{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${$r(n)}`,`Request body: ${re(t)}`],name:"TimeoutError"})}}const ah=-1;class ge extends T{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof pi?t.code:n??ah}}class ve extends ge{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class tr extends ge{constructor(t){super(t,{code:tr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(tr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class nr extends ge{constructor(t){super(t,{code:nr.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class rr extends ge{constructor(t,{method:n}={}){super(t,{code:rr.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(rr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class sr extends ge{constructor(t){super(t,{code:sr.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(sr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Vt extends ge{constructor(t){super(t,{code:Vt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Wt extends ge{constructor(t){super(t,{code:Wt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class or extends ge{constructor(t){super(t,{code:or.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(or,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class St extends ge{constructor(t){super(t,{code:St.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class On extends ge{constructor(t){super(t,{code:On.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Rt extends ge{constructor(t,{method:n}={}){super(t,{code:Rt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Tn extends ge{constructor(t){super(t,{code:Tn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ir extends ge{constructor(t){super(t,{code:ir.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ae extends ve{constructor(t){super(t,{code:ae.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ar extends ve{constructor(t){super(t,{code:ar.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(ar,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class cr extends ve{constructor(t,{method:n}={}){super(t,{code:cr.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ur extends ve{constructor(t){super(t,{code:ur.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class fr extends ve{constructor(t){super(t,{code:fr.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Kt extends ve{constructor(t){super(t,{code:Kt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class lr extends ve{constructor(t){super(t,{code:lr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class dr extends ve{constructor(t){super(t,{code:dr.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class hr extends ve{constructor(t){super(t,{code:hr.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class pr extends ve{constructor(t){super(t,{code:pr.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class yr extends ve{constructor(t){super(t,{code:yr.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class mr extends ve{constructor(t){super(t,{code:mr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class br extends ve{constructor(t){super(t,{code:br.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(br,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class ch extends ge{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function ms(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof T?e.walk(s=>(s==null?void 0:s.code)===kt.code):e;return r instanceof T?new kt({cause:e,message:r.details}):kt.nodeMessage.test(n)?new kt({cause:e,message:e.details}):Jr.nodeMessage.test(n)?new Jr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):fo.nodeMessage.test(n)?new fo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):lo.nodeMessage.test(n)?new lo({cause:e,nonce:t==null?void 0:t.nonce}):ho.nodeMessage.test(n)?new ho({cause:e,nonce:t==null?void 0:t.nonce}):po.nodeMessage.test(n)?new po({cause:e,nonce:t==null?void 0:t.nonce}):yo.nodeMessage.test(n)?new yo({cause:e}):mo.nodeMessage.test(n)?new mo({cause:e,gas:t==null?void 0:t.gas}):bo.nodeMessage.test(n)?new bo({cause:e,gas:t==null?void 0:t.gas}):go.nodeMessage.test(n)?new go({cause:e}):Yr.nodeMessage.test(n)?new Yr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Sr({cause:e})}function uh(e,{docsPath:t,...n}){const r=(()=>{const s=ms(e,n);return s instanceof Sr?e:s})();return new sh(r,{docsPath:t,...n})}function bs(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const fh={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Cr(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=lh(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>se(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=U(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=U(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=U(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=U(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=U(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=U(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=fh[e.type]),typeof e.value<"u"&&(t.value=U(e.value)),t}function lh(e){return e.map(t=>({address:t.address,r:t.r?U(BigInt(t.r)):t.r,s:t.s?U(BigInt(t.s)):t.s,chainId:U(t.chainId),nonce:U(t.nonce),...typeof t.yParity<"u"?{yParity:U(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:U(t.v)}:{}}))}function q(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const dh=2n**256n-1n;function Nn(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?he(t):void 0;if(i&&!Ce(i.address))throw new $t({address:i.address});if(o&&!Ce(o))throw new $t({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new nh;if(r&&r>dh)throw new Jr({maxFeePerGas:r});if(s&&r&&s>r)throw new Yr({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function yi(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return it(t)}class hh extends T{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class mi extends T{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class ph extends T{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${be(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class lu extends T{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const du={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function hu(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?it(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?it(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?du[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=yh(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function yh(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function pu(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:hu(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Ge(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,l;const o=s??!1,i=n!==void 0?U(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new lu({blockHash:t,blockNumber:n});return(((l=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:l.format)||pu)(a)}async function bi(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function mh(e,t){return yu(e,t)}async function yu(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await q(e,Ge,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Ve(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):q(e,Ge,"getBlock")({}),q(e,bi,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new mi;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function bh(e,t){return wo(e,t)}async function wo(e,t){var d,h;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var y,p;return typeof((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(i<1)throw new hh;const c=10**(((d=i.toString().split(".")[1])==null?void 0:d.length)??0),u=y=>y*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await q(e,Ge,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const y=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(y!==null)return y}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new mi;const y=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await yu(e,{block:f,chain:r,request:s}),p=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+y,maxPriorityFeePerGas:y}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await q(e,bi,"getGasPrice")({}))}}class gh extends T{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){var y;const h=Ar({from:n==null?void 0:n.address,to:l,value:typeof d<"u"&&`${hi(d)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${be(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${be(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${be(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function wh(e,{docsPath:t,...n}){const r=(()=>{const s=ms(e,n);return s instanceof Sr?e:s})();return new gh(r,{docsPath:t,...n})}class vh extends T{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class xh extends T{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ha(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Eh(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ha(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ha(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function pa(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Xi({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Xi({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Ph(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=U(t)),n!==void 0&&(i.nonce=U(n)),r!==void 0&&(i.state=pa(r)),s!==void 0){if(i.state)throw new xh;i.stateDiff=pa(s)}return i}function gi(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Ce(n,{strict:!1}))throw new $t({address:n});if(t[n])throw new vh({address:n});t[n]=Ph(r)}return t}async function wi(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?U(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function vi(e,t){var s,o,i;const{account:n=e.account}=t,r=n?he(n):void 0;try{let R=function(N){const{block:_,request:k,rpcStateOverride:z}=N;return e.request({method:"eth_estimateGas",params:z?[k,_??e.experimental_blockTag??"latest",z]:_?[k,_]:[k]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:l,blockTag:d,data:h,gas:y,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:x,value:P,stateOverride:b,...S}=await Ei(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),$=(typeof l=="bigint"?U(l):void 0)||d,w=gi(b),C=await(async()=>{if(S.to)return S.to;if(c&&c.length>0)return await au({authorization:c[0]}).catch(()=>{throw new T("`to` is required. Could not infer from `authorizationList`")})})();Nn(t);const A=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,O=(A||Cr)({...bs(S,{format:A}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:h,gas:y,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:x,to:C,value:P});let F=BigInt(await R({block:$,request:O,rpcStateOverride:w}));if(c){const N=await wi(e,{address:O.from}),_=await Promise.all(c.map(async k=>{const{address:z}=k,D=await R({block:$,request:{authorizationList:void 0,data:h,from:r==null?void 0:r.address,to:z,value:U(N)},rpcStateOverride:w}).catch(()=>100000n);return 2n*BigInt(D)}));F+=_.reduce((k,z)=>k+z,0n)}return F}catch(a){throw wh(a,{...t,account:r,chain:e.chain})}}async function mu(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?U(r):n]},{dedupe:!!r});return it(s)}function bu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>$e(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>se(o))}function gu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>$e(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>$e(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>se(i))}function Ih(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function Sh(e,t,n){return e&t^~e&n}function Ah(e,t,n){return e&t^e&n^t&n}class $h extends ii{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Ms(this.buffer)}update(t){$n(this),t=hs(t),je(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Ms(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$n(this),Dc(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Cn(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)n[l]=0;Ih(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Ms(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,f[l],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const lt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ch=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dt=new Uint32Array(64);class Bh extends $h{constructor(t=32){super(64,t,8,!1),this.A=lt[0]|0,this.B=lt[1]|0,this.C=lt[2]|0,this.D=lt[3]|0,this.E=lt[4]|0,this.F=lt[5]|0,this.G=lt[6]|0,this.H=lt[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)dt[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const d=dt[l-15],h=dt[l-2],y=Le(d,7)^Le(d,18)^d>>>3,p=Le(h,17)^Le(h,19)^h>>>10;dt[l]=p+dt[l-7]+y+dt[l-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let l=0;l<64;l++){const d=Le(a,6)^Le(a,11)^Le(a,25),h=f+d+Sh(a,c,u)+Ch[l]+dt[l]|0,p=(Le(r,2)^Le(r,13)^Le(r,22))+Ah(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){Cn(dt)}destroy(){this.set(0,0,0,0,0,0,0,0),Cn(this.buffer)}}const wu=Gc(()=>new Bh),Oh=wu;function Th(e,t){return Oh(Me(e,{strict:!1})?Fn(e):e)}function kh(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Th(t);return s.set([n],0),r==="bytes"?s:se(s)}function Rh(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(kh({commitment:o,to:r,version:n}));return s}const ya=6,vu=32,xi=4096,xu=vu*xi,ma=xu*ya-1-1*xi*ya;class Fh extends T{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Mh extends T{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Nh(e){const t=typeof e.data=="string"?$e(e.data):e.data,n=X(t);if(!n)throw new Mh;if(n>ma)throw new Fh({maxSize:ma,size:n});const r=[];let s=!0,o=0;for(;s;){const i=di(new Uint8Array(xu));let a=0;for(;a<xi;){const c=t.slice(o,o+(vu-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>se(i.bytes))}function _h(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Nh({data:t}),o=e.commitments??bu({blobs:s,kzg:n,to:r}),i=e.proofs??gu({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function jh(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new rh({transaction:e})}const Eu=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ba=new Map;async function Ei(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=Eu,type:f}=t,l=n&&he(n),d={...t,...l?{from:l==null?void 0:l.address}:{}};let h;async function y(){return h||(h=await q(e,Ge,"getBlock")({blockTag:"latest"}),h)}let p;async function m(){return p||(s?s.id:typeof t.chainId<"u"?t.chainId:(p=await q(e,yi,"getChainId")({}),p))}if(u.includes("nonce")&&typeof a>"u"&&l)if(c){const v=await m();d.nonce=await c.consume({address:l.address,chainId:v,client:e})}else d.nonce=await q(e,mu,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const v=bu({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const E=Rh({commitments:v,to:"hex"});d.blobVersionedHashes=E}if(u.includes("sidecars")){const E=gu({blobs:r,commitments:v,kzg:i}),x=_h({blobs:r,commitments:v,proofs:E,to:"hex"});d.sidecars=x}}if(u.includes("chainId")&&(d.chainId=await m()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{d.type=jh(d)}catch{let v=ba.get(e.uid);if(typeof v>"u"){const E=await y();v=typeof(E==null?void 0:E.baseFeePerGas)=="bigint",ba.set(e.uid,v)}d.type=v?"eip1559":"legacy"}if(u.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const v=await y(),{maxFeePerGas:E,maxPriorityFeePerGas:x}=await wo(e,{block:v,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<x)throw new ph({maxPriorityFeePerGas:x});d.maxPriorityFeePerGas=x,d.maxFeePerGas=E}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new mi;if(typeof t.gasPrice>"u"){const v=await y(),{gasPrice:E}=await wo(e,{block:v,chain:s,request:d,type:"legacy"});d.gasPrice=E}}return u.includes("gas")&&typeof o>"u"&&(d.gas=await q(e,vi,"estimateGas")({...d,account:l&&{address:l.address,type:"json-rpc"}})),Nn(d),delete d.parameters,d}async function Pu(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Ls=new ds(128);async function zh(e,t){var E,x,P,b;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:o,blobs:i,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,type:y,value:p,...m}=t;if(typeof n>"u")throw new li({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?he(n):null;try{Nn(t);const S=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await au({authorization:o[0]}).catch(()=>{throw new T("`to` is required. Could not infer from `authorizationList`.")})})();if((v==null?void 0:v.type)==="json-rpc"||v===null){let I;r!==null&&(I=await q(e,yi,"getChainId")({}),Yd({currentChainId:I,chain:r}));const $=(P=(x=(E=e.chain)==null?void 0:E.formatters)==null?void 0:x.transactionRequest)==null?void 0:P.format,C=($||Cr)({...bs(m,{format:$}),accessList:s,authorizationList:o,blobs:i,chainId:I,data:a,from:v==null?void 0:v.address,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:S,type:y,value:p}),A=Ls.get(e.uid),B=A?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:B,params:[C]},{retryCount:0})}catch(O){if(A===!1)throw O;const R=O;if(R.name==="InvalidInputRpcError"||R.name==="InvalidParamsRpcError"||R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[C]},{retryCount:0}).then(F=>(Ls.set(e.uid,!0),F)).catch(F=>{const N=F;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(Ls.set(e.uid,!1),R):N});throw R}}if((v==null?void 0:v.type)==="local"){const I=await q(e,Ei,"prepareTransactionRequest")({account:v,accessList:s,authorizationList:o,blobs:i,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,nonceManager:v.nonceManager,parameters:[...Eu,"sidecars"],type:y,value:p,...m,to:S}),$=(b=r==null?void 0:r.serializers)==null?void 0:b.transaction,w=await v.signTransaction(I,{serializer:$});return await q(e,Pu,"sendRawTransaction")({serializedTransaction:w})}throw(v==null?void 0:v.type)==="smart"?new zs({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new zs({docsPath:"/docs/actions/wallet/sendTransaction",type:v==null?void 0:v.type})}catch(S){throw S instanceof zs?S:uh(S,{...t,account:v,chain:t.chain||void 0})}}const vo=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],xo=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Iu=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Su=[...Iu,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Lh=[...Iu,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],ga=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],wa=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],va=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Uh(e,t={}){typeof t.size<"u"&&Oe(e,{size:t.size});const n=se(e,t);return Ve(n,t)}function qh(e,t={}){let n=e;if(typeof t.size<"u"&&(Oe(n,{size:t.size}),n=rt(n)),n.length>1||n[0]>1)throw new Ml(n);return!!n[0]}function st(e,t={}){typeof t.size<"u"&&Oe(e,{size:t.size});const n=se(e,t);return it(n,t)}function Dh(e,t={}){let n=e;return typeof t.size<"u"&&(Oe(n,{size:t.size}),n=rt(n,{dir:"right"})),new TextDecoder().decode(n)}function Br(e,t){const n=typeof t=="string"?$e(t):t,r=di(n);if(X(n)===0&&e.length>0)throw new Ir;if(X(t)&&X(t)<32)throw new jc({data:typeof t=="string"?t:se(t),params:e,size:X(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=ln(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function ln(e,t,{staticPosition:n}){const r=ui(t.type);if(r){const[s,o]=r;return Gh(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Qh(e,t,{staticPosition:n});if(t.type==="address")return Hh(e);if(t.type==="bool")return Vh(e);if(t.type.startsWith("bytes"))return Wh(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Kh(e,t);if(t.type==="string")return Zh(e,{staticPosition:n});throw new nd(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const xa=32,Eo=32;function Hh(e){const t=e.readBytes(32);return[ps(se(Xc(t,-20))),32]}function Gh(e,t,{length:n,staticPosition:r}){if(!n){const i=st(e.readBytes(Eo)),a=r+i,c=a+xa;e.setPosition(a);const u=st(e.readBytes(xa)),f=gr(t);let l=0;const d=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:l));const[y,p]=ln(e,t,{staticPosition:c});l+=p,d.push(y)}return e.setPosition(r+32),[d,32]}if(gr(t)){const i=st(e.readBytes(Eo)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=ln(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=ln(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Vh(e){return[qh(e.readBytes(32),{size:32}),32]}function Wh(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=st(e.readBytes(32));e.setPosition(n+i);const a=st(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[se(c),32]}return[se(e.readBytes(Number.parseInt(s),32)),32]}function Kh(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Uh(s,{signed:n}):st(s,{signed:n}),32]}function Qh(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(gr(t)){const i=st(e.readBytes(Eo)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,l]=ln(e,u,{staticPosition:a});o+=l,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=ln(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function Zh(e,{staticPosition:t}){const n=st(e.readBytes(32)),r=t+n;e.setPosition(r);const s=st(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Dh(rt(o));return e.setPosition(t+32),[i,32]}function gr(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(gr);const n=ui(e.type);return!!(n&&gr({...e,type:n[1]}))}const Jh=e=>ie(Fn(e));function Yh(e){return Jh(e)}const Xh="1.0.8";let xe=class Po extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Po?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Po&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Xh}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function ut(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Au=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$u=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Cu=/^\(.+?\).*?$/,Ea=/^tuple(?<array>(\[(\d*)\])*)$/;function Io(e){let t=e.type;if(Ea.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Io(o),s<n-1&&(t+=", ")}const r=ut(Ea,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Io({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Gn(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Io(s),r!==n-1&&(t+=", ")}return t}function Xr(e){var t;return e.type==="function"?`function ${e.name}(${Gn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Gn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Gn(e.inputs)})`:e.type==="error"?`error ${e.name}(${Gn(e.inputs)})`:e.type==="constructor"?`constructor(${Gn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Bu=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ep(e){return Bu.test(e)}function tp(e){return ut(Bu,e)}const Ou=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function np(e){return Ou.test(e)}function rp(e){return ut(Ou,e)}const Tu=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function sp(e){return Tu.test(e)}function op(e){return ut(Tu,e)}const ku=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Pi(e){return ku.test(e)}function ip(e){return ut(ku,e)}const Ru=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ap(e){return Ru.test(e)}function cp(e){return ut(Ru,e)}const Fu=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function up(e){return Fu.test(e)}function fp(e){return ut(Fu,e)}const lp=/^receive\(\) external payable$/;function dp(e){return lp.test(e)}const hp=new Set(["indexed"]),So=new Set(["calldata","memory","storage"]);class pp extends xe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class yp extends xe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class mp extends xe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class bp extends xe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class gp extends xe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class wp extends xe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class vp extends xe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class xp extends xe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class _n extends xe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Ep extends xe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Pp extends xe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ip extends xe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Sp extends xe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ap(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const Us=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ao(e,t={}){if(sp(e))return $p(e,t);if(np(e))return Cp(e,t);if(ep(e))return Bp(e,t);if(ap(e))return Op(e,t);if(up(e))return Tp(e);if(dp(e))return{type:"receive",stateMutability:"payable"};throw new Ep({signature:e})}function $p(e,t={}){const n=op(e);if(!n)throw new _n({signature:e,type:"function"});const r=Re(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Qt(r[a],{modifiers:So,structs:t,type:"function"}));const i=[];if(n.returns){const a=Re(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Qt(a[u],{modifiers:So,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Cp(e,t={}){const n=rp(e);if(!n)throw new _n({signature:e,type:"event"});const r=Re(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Qt(r[i],{modifiers:hp,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Bp(e,t={}){const n=tp(e);if(!n)throw new _n({signature:e,type:"error"});const r=Re(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Qt(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Op(e,t={}){const n=cp(e);if(!n)throw new _n({signature:e,type:"constructor"});const r=Re(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Qt(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Tp(e){const t=fp(e);if(!t)throw new _n({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const kp=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Rp=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Fp=/^u?int$/;function Qt(e,t){var l,d;const n=Ap(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Us.has(n))return Us.get(n);const r=Cu.test(e),s=ut(r?Rp:kp,e);if(!s)throw new bp({param:e});if(s.name&&Np(s.name))throw new gp({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Re(s.type),y=[],p=h.length;for(let m=0;m<p;m++)y.push(Qt(h[m],{structs:a}));u={components:y}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Fp.test(s.type))c=`${s.type}256`;else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Mu(c))throw new mp({type:c});if(s.modifier){if(!((d=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&d.call(l,s.modifier)))throw new wp({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(So.has(s.modifier)&&!_p(c,!!s.array))throw new vp({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return Us.set(n,f),f}function Re(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?Re(a,[...t,n.trim()]):Re(a,t,`${n}${i}`,r);case"(":return Re(a,t,`${n}${i}`,r+1);case")":return Re(a,t,`${n}${i}`,r-1);default:return Re(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Sp({current:n,depth:r});return t.push(n.trim()),t}function Mu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Au.test(e)||$u.test(e)}const Mp=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Np(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Au.test(e)||$u.test(e)||Mp.test(e)}function _p(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Nu(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Pi(a))continue;const c=ip(a);if(!c)throw new _n({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],l=u.length;for(let d=0;d<l;d++){const y=u[d].trim();if(!y)continue;const p=Qt(y,{type:"struct"});f.push(p)}if(!f.length)throw new Pp({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=_u(c,t)}return r}const jp=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function _u(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Cu.test(i.type))r.push(i);else{const c=ut(jp,i.type);if(!(c!=null&&c.type))throw new xp({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Ip({type:f});r.push({...i,type:`tuple${u??""}`,components:_u(t[f]??[],t,new Set([...n,f]))})}else if(Mu(f))r.push(i);else throw new yp({type:f})}}return r}function ju(e){const t=Nu(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Pi(o)||n.push(Ao(o,t))}return n}function Pa(e){let t;if(typeof e=="string")t=Ao(e);else{const n=Nu(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Pi(o)){t=Ao(o,n);break}}}if(!t)throw new pp({signature:e});return t}function zp(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new T("Unable to normalize signature.");return s}const Lp=e=>{const t=typeof e=="string"?e:Xr(e);return zp(t)};function zu(e){return Yh(Lp(e))}const gs=zu,Or=e=>Bn(zu(e),0,4);function tn(e){const{abi:t,args:n=[],name:r}=e,s=Me(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Or(a)===r:a.type==="event"?gs(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const l="inputs"in a&&a.inputs[f];return l?$o(u,l):!1})){if(i&&"inputs"in i&&i.inputs){const u=Lu(a.inputs,i.inputs,n);if(u)throw new Xl({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function $o(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Ce(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>$o(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>$o(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Lu(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Lu(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Ce(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Ce(n[r],{strict:!1}):!1)return i}}const qs="/docs/contract/decodeFunctionResult";function nn(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=tn({abi:t,args:n,name:r});if(!a)throw new An(r,{docsPath:qs});o=a}if(o.type!=="function")throw new An(void 0,{docsPath:qs});if(!o.outputs)throw new Uc(o.name,{docsPath:qs});const i=Br(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Ia="/docs/contract/encodeFunctionData";function Up(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=tn({abi:t,args:n,name:r});if(!o)throw new An(r,{docsPath:Ia});s=o}if(s.type!=="function")throw new An(void 0,{docsPath:Ia});return{abi:[s],functionName:Or(Ne(s))}}function ze(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:Up(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?ct(s.inputs,t??[]):void 0;return Mn([o,i??"0x"])}function jn({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new uo({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new uo({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const Uu={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},qu={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},qp={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Du(e){const{abi:t,data:n}=e,r=Bn(n,0,4);if(r==="0x")throw new Ir;const o=[...t||[],qu,qp].find(i=>i.type==="error"&&r===Or(Ne(i)));if(!o)throw new zc(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Br(o.inputs,Bn(n,4)):void 0,errorName:o.name}}function Hu({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?re(t[o]):t[o]}`).join(", ")})`}class Gu extends T{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d,stateOverride:h}){var m;const y=n?he(n):void 0;let p=Ar({from:y==null?void 0:y.address,to:l,value:typeof d<"u"&&`${hi(d)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${be(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${be(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${be(u)} gwei`,nonce:f});h&&(p+=`
${Eh(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Vu extends T{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=tn({abi:n,args:r,name:i}),u=c?Hu({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Ne(c,{includeName:!0}):void 0,l=Ar({address:s&&ih(s),function:f,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Co extends T{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Du({abi:t,data:n});const{abiItem:f,errorName:l,args:d}=i;if(l==="Error")c=d[0];else if(l==="Panic"){const[h]=d;c=Uu[h]}else{const h=f?Ne(f,{includeName:!0}):void 0,y=f&&d?Hu({abiItem:f,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",y&&y!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof zc&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Dp extends T{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Hp extends T{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class ws extends T{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function Ii(e,t){var r,s,o,i,a,c;if(!(e instanceof T))return!1;const n=e.walk(u=>u instanceof Co);return n instanceof Co?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((i=n.data)==null?void 0:i.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Uu[50]):!1}function Gp(e){const{abi:t,data:n}=e,r=Bn(n,0,4),s=t.find(o=>o.type==="function"&&r===Or(Ne(o)));if(!s)throw new Yl(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Br(s.inputs,Bn(n,4)):void 0}}const Ds="/docs/contract/encodeErrorResult";function Sa(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=tn({abi:t,args:r,name:n});if(!c)throw new na(n,{docsPath:Ds});s=c}if(s.type!=="error")throw new na(void 0,{docsPath:Ds});const o=Ne(s),i=Or(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Zl(s.name,{docsPath:Ds});a=ct(s.inputs,r)}return Mn([i,a])}const Hs="/docs/contract/encodeFunctionResult";function Vp(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=tn({abi:t,name:n});if(!i)throw new An(n,{docsPath:Hs});s=i}if(s.type!=="function")throw new An(void 0,{docsPath:Hs});if(!s.outputs)throw new Uc(s.name,{docsPath:Hs});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new qc(r)})();return ct(s.outputs,o)}const vs="x-batch-gateway:true";async function Wu(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Gp({abi:xo,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(vs)?await Wu({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Wp(c)}})),Vp({abi:xo,functionName:"query",result:[s,o]})}function Wp(e){return e.name==="HttpRequestError"&&e.status?Sa({abi:xo,errorName:"HttpError",args:[e.status,e.shortMessage]}):Sa({abi:[qu],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Ku(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Me(t)?t:null}function Vr(e){let t=new Uint8Array(32).fill(0);if(!e)return se(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Ku(n[r]),o=s?Fn(s):ie(Ht(n[r]),"bytes");t=ie(_e([t,o]),"bytes")}return se(t)}function Kp(e){return`[${e.slice(2)}]`}function Qp(e){const t=new Uint8Array(32).fill(0);return e?Ku(e)||ie(Ht(e)):se(t)}function xs(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ht(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Ht(s[o]);i.byteLength>255&&(i=Ht(Kp(Qp(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const Zp=3;function Zt(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof ws?e:e instanceof T?e.walk(y=>"data"in y)||e.walk():{},{code:c,data:u,details:f,message:l,shortMessage:d}=a,h=e instanceof Ir?new Dp({functionName:o}):[Zp,Vt.code].includes(c)&&(u||f||l||d)?new Co({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof pi?f:d??l}):e;return new Vu(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Aa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function es(e,...t){if(!Jp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Yp(e,t){es(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Xp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Qu(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const e0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function t0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function n0(e){for(let t=0;t<e.length;t++)e[t]=t0(e[t]);return e}const Ca=e0?e=>e:n0;function r0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Zu(e){return typeof e=="string"&&(e=r0(e)),es(e),e}class s0{}function o0(e){const t=r=>e().update(Zu(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const i0="0.1.1";function a0(){return i0}let te=class Bo extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof Bo){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Bo&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${a0()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Ju(this,t)}};function Ju(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Ju(e.cause,t):t?null:e}const c0="#__bigint";function u0(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+c0:s,n)}function f0(e,t){if(Oa(e)>t)throw new v0({givenSize:Oa(e),maxSize:t})}const Ye={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ba(e){if(e>=Ye.zero&&e<=Ye.nine)return e-Ye.zero;if(e>=Ye.A&&e<=Ye.F)return e-(Ye.A-10);if(e>=Ye.a&&e<=Ye.f)return e-(Ye.a-10)}function l0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new x0({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Si(e,t){if(Be(e)>t)throw new A0({givenSize:Be(e),maxSize:t})}function d0(e,t){if(typeof t=="number"&&t>0&&t>Be(e)-1)throw new nf({offset:t,position:"start",size:Be(e)})}function h0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Be(e)!==n-t)throw new nf({offset:n,position:"end",size:Be(e)})}function Yu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new $0({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const p0=new TextEncoder;function y0(e){return e instanceof Uint8Array?e:typeof e=="string"?b0(e):m0(e)}function m0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function b0(e,t={}){const{size:n}=t;let r=e;n&&(Si(e,n),r=Yt(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Ba(s.charCodeAt(c++)),f=Ba(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new te(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function g0(e,t={}){const{size:n}=t,r=p0.encode(e);return typeof n=="number"?(f0(r,n),w0(r,n)):r}function w0(e,t){return l0(e,{dir:"right",size:t})}function Oa(e){return e.length}let v0=class extends te{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},x0=class extends te{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const E0=new TextEncoder,P0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function I0(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ta(e);if(typeof e!="string")throw new Ta(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ka(e);if(!e.startsWith("0x"))throw new ka(e)}function Ke(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Xu(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Si(n,t.size),Jt(n,t.size)):n}function ef(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=P0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Si(r,t.size),Yt(r,t.size)):r}function le(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new tf({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Jt(c,r):c}function Ai(e,t={}){return ef(E0.encode(e),t)}function Jt(e,t){return Yu(e,{dir:"left",size:t})}function Yt(e,t){return Yu(e,{dir:"right",size:t})}function $i(e,t,n,r={}){const{strict:s}=r;d0(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&h0(o,t,n),o}function Be(e){return Math.ceil((e.length-2)/2)}function S0(e,t={}){const{strict:n=!1}=t;try{return I0(e,{strict:n}),!0}catch{return!1}}class tf extends te{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ta extends te{constructor(t){super(`Value \`${typeof t=="object"?u0(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ka extends te{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class A0 extends te{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class nf extends te{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class $0 extends te{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function C0(e){return{address:e.address,amount:le(e.amount),index:le(e.index),validatorIndex:le(e.validatorIndex)}}function rf(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:le(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:le(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:le(e.gasLimit)},...typeof e.number=="bigint"&&{number:le(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:le(e.prevRandao)},...typeof e.time=="bigint"&&{time:le(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(C0)}}}const B0="0x82ad56cb",sf="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",O0="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",T0="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function of(e,{docsPath:t,...n}){const r=(()=>{const s=ms(e,n);return s instanceof Sr?e:s})();return new Gu(r,{docsPath:t,...n})}function af(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Gs=new Map;function cf({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const l=f.map(({args:d})=>d);l.length!==0&&e(l).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<f.length;h++){const{resolve:y}=f[h];y==null||y([d[h],d])}}).catch(d=>{for(let h=0;h<f.length;h++){const{reject:y}=f[h];y==null||y(d)}})},i=()=>Gs.delete(t),a=()=>c().map(({args:f})=>f),c=()=>Gs.get(t)||[],u=f=>Gs.set(t,[...c(),f]);return{flush:i,async schedule(f){const{promise:l,resolve:d,reject:h}=af();return(n==null?void 0:n([...a(),f]))&&o(),c().length>0?(u({args:f,resolve:d,reject:h}),l):(u({args:f,resolve:d,reject:h}),setTimeout(o,r),l)}}}async function zn(e,t){var O,R,F,N;const{account:n=e.account,authorizationList:r,batch:s=!!((O=e.batch)!=null&&O.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:l,factory:d,factoryData:h,gas:y,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:x,to:P,value:b,stateOverride:S,...I}=t,$=n?he(n):void 0;if(f&&(d||h))throw new T("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&P)throw new T("Cannot provide both `code` & `to` as parameters.");const w=f&&l,C=d&&h&&P&&l,A=w||C,B=w?F0({code:f,data:l}):C?M0({data:l,factory:d,factoryData:h,to:P}):l;try{Nn(t);const k=(typeof o=="bigint"?U(o):void 0)||i,z=u?rf(u):void 0,D=gi(S),L=(N=(F=(R=e.chain)==null?void 0:R.formatters)==null?void 0:F.transactionRequest)==null?void 0:N.format,Q=(L||Cr)({...bs(I,{format:L}),from:$==null?void 0:$.address,accessList:a,authorizationList:r,blobs:c,data:B,gas:y,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:x,to:A?void 0:P,value:b});if(s&&k0({request:Q})&&!D&&!z)try{return await R0(e,{...Q,blockNumber:o,blockTag:i})}catch(Z){if(!(Z instanceof cu)&&!(Z instanceof uo))throw Z}const ee=(()=>{const Z=[Q,k];return D&&z?[...Z,D,z]:D?[...Z,D]:z?[...Z,{},z]:Z})(),W=await e.request({method:"eth_call",params:ee});return W==="0x"?{data:void 0}:{data:W}}catch(_){const k=N0(_),{offchainLookup:z,offchainLookupSignature:D}=await nu(async()=>{const{offchainLookup:L,offchainLookupSignature:J}=await Promise.resolve().then(()=>bm);return{offchainLookup:L,offchainLookupSignature:J}},void 0);if(e.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===D&&P)return{data:await z(e,{data:k,to:P})};throw A&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new Hp({factory:d}):of(_,{...t,account:$,chain:e.chain})}}function k0({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(B0)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function R0(e,t){var p;const{batchSize:n=1024,wait:r=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",data:i,multicallAddress:a,to:c}=t;let u=a;if(!u){if(!e.chain)throw new cu;u=jn({blockNumber:s,chain:e.chain,contract:"multicall3"})}const l=(typeof s=="bigint"?U(s):void 0)||o,{schedule:d}=cf({id:`${e.uid}.${l}`,wait:r,shouldSplitBatch(m){return m.reduce((E,{data:x})=>E+(x.length-2),0)>n*2},fn:async m=>{const v=m.map(P=>({allowFailure:!0,callData:P.data,target:P.to})),E=ze({abi:vo,args:[v],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{data:E,to:u},l]});return nn({abi:vo,args:[v],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:h,success:y}]=await d({data:i,to:c});if(!y)throw new ws({data:h});return h==="0x"?{data:void 0}:{data:h}}function F0(e){const{code:t,data:n}=e;return fi({abi:ju(["constructor(bytes, bytes)"]),bytecode:sf,args:[t,n]})}function M0(e){const{data:t,factory:n,factoryData:r,to:s}=e;return fi({abi:ju(["constructor(address, bytes, address, bytes)"]),bytecode:O0,args:[s,t,n,r]})}function N0(e){var n;if(!(e instanceof T))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Qe(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=ze({abi:n,args:s,functionName:o});try{const{data:c}=await q(e,zn,"call")({...i,data:a,to:r});return nn({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw Zt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function _0(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;try{const l=ze({abi:wa,functionName:"addr",...s!=null?{args:[Vr(o),BigInt(s)]}:{args:[Vr(o)]}}),d={address:u,abi:Su,functionName:"resolve",args:[We(xs(o)),l,i??[vs]],blockNumber:n,blockTag:r},y=await q(e,Qe,"readContract")(d);if(y[0]==="0x")return null;const p=nn({abi:wa,args:s!=null?[Vr(o),BigInt(s)]:void 0,functionName:"addr",data:y[0]});return p==="0x"||rt(p)==="0x00"?null:p}catch(l){if(a)throw l;if(Ii(l,"resolve"))return null;throw l}}class j0 extends T{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Vn extends T{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ci extends T{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class z0 extends T{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const L0=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,U0=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,q0=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,D0=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function H0(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ra(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function uf({uri:e,gatewayUrls:t}){const n=q0.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ra(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ra(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(L0),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||a==="ipns/",l=i==="ipfs:/"||a==="ipfs/"||U0.test(e);if(e.startsWith("http")&&!f&&!l){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||l)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(D0,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Ci({uri:e})}function ff(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new j0({data:e});return e.image||e.image_url||e.image_data}async function G0({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Bi({gatewayUrls:e,uri:ff(n)})}catch{throw new Ci({uri:t})}}async function Bi({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=uf({uri:t,gatewayUrls:e});if(r||await H0(n))return n;throw new Ci({uri:t})}function V0(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Vn({reason:"Only EIP-155 supported"});if(!i)throw new Vn({reason:"Chain ID not found"});if(!c)throw new Vn({reason:"Contract address not found"});if(!s)throw new Vn({reason:"Token ID not found"});if(!a)throw new Vn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function W0(e,{nft:t}){if(t.namespace==="erc721")return Qe(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Qe(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new z0({namespace:t.namespace})}async function K0(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Q0(e,{gatewayUrls:t,record:n}):Bi({uri:n,gatewayUrls:t})}async function Q0(e,{gatewayUrls:t,record:n}){const r=V0(n),s=await W0(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=uf({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Bi({uri:ff(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),G0({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function lf(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;try{const l={address:u,abi:Su,functionName:"resolve",args:[We(xs(o)),ze({abi:ga,functionName:"text",args:[Vr(o),s]}),i??[vs]],blockNumber:n,blockTag:r},h=await q(e,Qe,"readContract")(l);if(h[0]==="0x")return null;const y=nn({abi:ga,functionName:"text",data:h[0]});return y===""?null:y}catch(l){if(a)throw l;if(Ii(l,"resolve"))return null;throw l}}async function df(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await q(e,lf,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await K0(e,{record:c,gatewayUrls:r})}catch{return null}}async function hf(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=jn({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:Lh,functionName:"reverse",args:[We(xs(c))],blockNumber:n,blockTag:r},f=q(e,Qe,"readContract"),[l,d]=s?await f({...u,args:[...u.args,s]}):await f(u);return t.toLowerCase()!==d.toLowerCase()?null:l}catch(u){if(o)throw u;if(Ii(u,"reverse"))return null;throw u}}async function Z0(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return jn({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await q(e,Qe,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[We(xs(s))],blockNumber:n,blockTag:r});return c}async function pf(e,t){var m,v,E;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:h,...y}=t,p=n?he(n):void 0;try{Nn(t);const P=(typeof r=="bigint"?U(r):void 0)||s,b=(E=(v=(m=e.chain)==null?void 0:m.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,I=(b||Cr)({...bs(y,{format:b}),from:p==null?void 0:p.address,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:h}),$=await e.request({method:"eth_createAccessList",params:[I,P]});return{accessList:$.accessList,gasUsed:BigInt($.gasUsed)}}catch(x){throw of(x,{...t,account:p,chain:e.chain})}}function Es(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function J0(e){const t=Es(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class Y0 extends T{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Fa="/docs/contract/encodeEventTopics";function Tr(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=tn({abi:t,name:n});if(!u)throw new ra(n,{docsPath:Fa});s=u}if(s.type!=="event")throw new ra(void 0,{docsPath:Fa});const o=Ne(s),i=gs(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(l=>"indexed"in l&&l.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(l=>r[l.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((l,d)=>Array.isArray(f[d])?f[d].map((h,y)=>Ma({param:l,value:f[d][y]})):typeof f[d]<"u"&&f[d]!==null?Ma({param:l,value:f[d]}):null))??[])}return[i,...a]}function Ma({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ie(Fn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Y0(e.type);return ct([e],[t])}async function yf(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Es(e,{method:"eth_newFilter"}),f=o?Tr({abi:r,args:s,eventName:o}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?U(i):i,toBlock:typeof c=="bigint"?U(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:l,request:u(l),strict:!!a,type:"event"}}async function mf(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Es(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>Tr({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?U(o):o,toBlock:typeof a=="bigint"?U(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:l,request:u(l),strict:!!i,toBlock:a,type:"event"}}async function bf(e){const t=Es(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function X0(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=ze({abi:n,args:s,functionName:o});try{return await q(e,vi,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?he(a.account):void 0;throw Zt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}async function ey(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const ty=new Map,ny=new Map;function ry(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,ty),r=t(e,ny);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function sy(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=ry(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const oy=e=>`blockNumber.${e}`;async function kr(e,{cacheTime:t=e.cacheTime}={}){const n=await sy(()=>e.request({method:"eth_blockNumber"}),{cacheKey:oy(e.uid),cacheTime:t});return BigInt(n)}async function iy(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?U(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),it(o)}async function Na(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?U(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function Ps(e,t){if(!Ce(e,{strict:!1}))throw new $t({address:e});if(!Ce(t,{strict:!1}))throw new $t({address:t});return e.toLowerCase()===t.toLowerCase()}const _a="/docs/contract/decodeEventLog";function Oi(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new Jl({docsPath:_a});const c=t.find(p=>p.type==="event"&&i===gs(Ne(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Lc(i,{docsPath:_a});const{name:u,inputs:f}=c,l=f==null?void 0:f.some(p=>!("name"in p&&p.name)),d=l?[]:{},h=f.map((p,m)=>[p,m]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const[m,v]=h[p],E=a[p];if(!E)throw new ls({abiItem:c,param:m});d[l?v:m.name||v]=ay({param:m,value:E})}const y=f.filter(p=>!("indexed"in p&&p.indexed));if(y.length>0){if(n&&n!=="0x")try{const p=Br(y,n);if(p)if(l)for(let m=0;m<f.length;m++)d[m]=d[m]??p.shift();else for(let m=0;m<y.length;m++)d[y[m].name]=p[m]}catch(p){if(o)throw p instanceof jc||p instanceof su?new Yn({abiItem:c,data:n,params:y,size:X(n)}):p}else if(o)throw new Yn({abiItem:c,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function ay({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Br([e],t)||[])[0]}function Ti(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var a;try{const c=t.find(f=>f.type==="event"&&i.topics[0]===gs(f));if(!c)return null;const u=Oi({...i,abi:[c],strict:s});return o&&!o.includes(u.eventName)||!cy({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...i}}catch(c){let u,f;if(c instanceof Lc)return null;if(c instanceof Yn||c instanceof ls){if(s)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(l=>!("name"in l&&l.name))}return{...i,args:f?[]:{},eventName:u}}}).filter(Boolean)}function cy(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Ps(i,a):o.type==="string"||o.type==="bytes"?ie(Fn(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function at(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function ki(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let l=[];f&&(l=[f.flatMap(p=>Tr({abi:[p],eventName:p.name,args:i?void 0:a}))],o&&(l=l[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?U(r):r,toBlock:typeof s=="bigint"?U(s):s}]});const h=d.map(y=>at(y));return f?Ti({abi:f,args:a,logs:h,strict:u}):h}async function gf(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?tn({abi:n,name:i}):void 0,l=f?void 0:n.filter(d=>d.type==="event");return q(e,ki,"getLogs")({address:r,args:s,blockHash:o,event:f,events:l,fromBlock:a,toBlock:c,strict:u})}class uy extends T{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function fy(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,l]=await q(e,Qe,"readContract")({abi:ly,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:l,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new uy({address:n}):i}}const ly=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function dy(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function hy(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?U(n):void 0,i=await e.request({method:"eth_feeHistory",params:[U(t),o||r,s]},{dedupe:!!o});return dy(i)}async function Is(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>at(o));return!("abi"in t)||!t.abi?s:Ti({abi:t.abi,logs:s,strict:n})}async function py(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>at(o));return t.abi?Ti({abi:t.abi,logs:s,strict:n}):s}async function yy(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?U(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Ss(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var f,l,d;const i=r||"latest",a=n!==void 0?U(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,U(o)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,U(o)]},{dedupe:!!a}),!c)throw new uu({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((d=(l=(f=e.chain)==null?void 0:f.formatters)==null?void 0:l.transaction)==null?void 0:d.format)||hu)(c)}async function my(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([q(e,kr,"getBlockNumber")({}),t?q(e,Ss,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}const by={"0x0":"reverted","0x1":"success"};function gy(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>at(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?it(e.transactionIndex):null,status:e.status?by[e.status]:null,type:e.type?du[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}async function Wr(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new fu({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||gy)(n)}async function wf(e,t){var v;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:o,blockTag:i,multicallAddress:a,stateOverride:c}=t,u=t.contracts,f=s??(typeof((v=e.batch)==null?void 0:v.multicall)=="object"&&e.batch.multicall.batchSize||1024);let l=a;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=jn({blockNumber:o,chain:e.chain,contract:"multicall3"})}const d=[[]];let h=0,y=0;for(let E=0;E<u.length;E++){const{abi:x,address:P,args:b,functionName:S}=u[E];try{const I=ze({abi:x,args:b,functionName:S});y+=(I.length-2)/2,f>0&&y>f&&d[h].length>0&&(h++,y=(I.length-2)/2,d[h]=[]),d[h]=[...d[h],{allowFailure:!0,callData:I,target:P}]}catch(I){const $=Zt(I,{abi:x,address:P,args:b,docsPath:"/docs/contract/multicall",functionName:S,sender:n});if(!r)throw $;d[h]=[...d[h],{allowFailure:!0,callData:"0x",target:P}]}}const p=await Promise.allSettled(d.map(E=>q(e,Qe,"readContract")({abi:vo,account:n,address:l,args:[E],blockNumber:o,blockTag:i,functionName:"aggregate3",stateOverride:c}))),m=[];for(let E=0;E<p.length;E++){const x=p[E];if(x.status==="rejected"){if(!r)throw x.reason;for(let b=0;b<d[E].length;b++)m.push({status:"failure",error:x.reason,result:void 0});continue}const P=x.value;for(let b=0;b<P.length;b++){const{returnData:S,success:I}=P[b],{callData:$}=d[E][b],{abi:w,address:C,functionName:A,args:B}=u[m.length];try{if($==="0x")throw new Ir;if(!I)throw new ws({data:S});const O=nn({abi:w,args:B,data:S,functionName:A});m.push(r?{result:O,status:"success"}:O)}catch(O){const R=Zt(O,{abi:w,address:C,args:B,docsPath:"/docs/contract/multicall",functionName:A});if(!r)throw R;m.push({error:R,result:void 0,status:"failure"})}}}if(m.length!==u.length)throw new T("multicall results mismatch");return m}async function Oo(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const d of s){const h=d.blockOverrides?rf(d.blockOverrides):void 0,y=d.calls.map(m=>{const v=m,E=v.account?he(v.account):void 0,x=v.abi?ze(v):v.data,P={...v,data:v.dataSuffix?_e([x||"0x",v.dataSuffix]):x,from:v.from??(E==null?void 0:E.address)};return Nn(P),Cr(P)}),p=d.stateOverrides?gi(d.stateOverrides):void 0;c.push({blockOverrides:h,calls:y,stateOverrides:p})}const f=(typeof n=="bigint"?U(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((d,h)=>({...pu(d),calls:d.calls.map((y,p)=>{var C,A;const{abi:m,args:v,functionName:E,to:x}=s[h].calls[p],P=((C=y.error)==null?void 0:C.data)??y.returnData,b=BigInt(y.gasUsed),S=(A=y.logs)==null?void 0:A.map(B=>at(B)),I=y.status==="0x1"?"success":"failure",$=m&&I==="success"&&P!=="0x"?nn({abi:m,data:P,functionName:E}):null,w=(()=>{var O;if(I==="success")return;let B;if(((O=y.error)==null?void 0:O.data)==="0x"?B=new Ir:y.error&&(B=new ws(y.error)),!!B)return Zt(B,{abi:m??[],address:x??"0x",args:v,functionName:E??"<unknown>"})})();return{data:P,gasUsed:b,logs:S,status:I,...I==="success"?{result:$}:{error:w}}})}))}catch(c){const u=c,f=ms(u,{});throw f instanceof Sr?u:f}}const Nr=BigInt(2**32-1),ja=BigInt(32);function wy(e,t=!1){return t?{h:Number(e&Nr),l:Number(e>>ja&Nr)}:{h:Number(e>>ja&Nr)|0,l:Number(e&Nr)|0}}function vy(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=wy(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const xy=(e,t,n)=>e<<n|t>>>32-n,Ey=(e,t,n)=>t<<n|e>>>32-n,Py=(e,t,n)=>t<<n-32|e>>>64-n,Iy=(e,t,n)=>e<<n-32|t>>>64-n,Sy=BigInt(0),Wn=BigInt(1),Ay=BigInt(2),$y=BigInt(7),Cy=BigInt(256),By=BigInt(113),vf=[],xf=[],Ef=[];for(let e=0,t=Wn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],vf.push(2*(5*r+n)),xf.push((e+1)*(e+2)/2%64);let s=Sy;for(let o=0;o<7;o++)t=(t<<Wn^(t>>$y)*By)%Cy,t&Ay&&(s^=Wn<<(Wn<<BigInt(o))-Wn);Ef.push(s)}const Pf=vy(Ef,!0),Oy=Pf[0],Ty=Pf[1],za=(e,t,n)=>n>32?Py(e,t,n):xy(e,t,n),La=(e,t,n)=>n>32?Iy(e,t,n):Ey(e,t,n);function ky(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],l=za(u,f,1)^n[a],d=La(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=l,e[i+h+1]^=d}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=xf[i],c=za(s,o,a),u=La(s,o,a),f=vf[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Oy[r],e[1]^=Ty[r]}Qu(n)}class Ri extends s0{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Aa(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Xp(this.state)}clone(){return this._cloneInto()}keccak(){Ca(this.state32),ky(this.state32,this.rounds),Ca(this.state32),this.posOut=0,this.pos=0}update(t){$a(this),t=Zu(t),es(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){$a(this,!1),es(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Aa(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Yp(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Qu(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Ri(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Ry=(e,t,n)=>o0(()=>new Ri(t,e,n)),Fy=Ry(1,136,256/8);function If(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Fy(y0(e));return n==="Bytes"?r:ef(r)}class My extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ny={checksum:new My(8192)},Vs=Ny.checksum,_y=/^0x[a-fA-F0-9]{40}$/;function As(e,t={}){const{strict:n=!0}=t;if(!_y.test(e))throw new Ua({address:e,cause:new zy});if(n){if(e.toLowerCase()===e)return;if(jy(e)!==e)throw new Ua({address:e,cause:new Ly})}}function jy(e){if(Vs.has(e))return Vs.get(e);As(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=If(g0(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return Vs.set(e,s),s}function To(e,t={}){const{strict:n=!0}=t??{};try{return As(e,{strict:n}),!0}catch{return!1}}class Ua extends te{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class zy extends te{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Ly extends te{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function ko(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new te("Unable to normalize signature.");return s}function Ro(e,t){const n=typeof e,r=t.type;switch(r){case"address":return To(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Ro(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ro(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Sf(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Sf(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?To(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?To(n[r],{strict:!1}):!1)return i}}function Af(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Pa(e):e;return{...r,...n?{hash:fn(r)}:{}}}function Uy(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=S0(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?$f(u)===$i(t,0,4):u.type==="event"?fn(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Fo({name:t});if(i.length===1)return{...i[0],...s?{hash:fn(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:fn(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,d)=>{const h="inputs"in u&&u.inputs[d];return h?Ro(l,h):!1})){if(a&&"inputs"in a&&a.inputs){const l=Sf(u.inputs,a.inputs,r);if(l)throw new Dy({abiItem:u,type:l[0]},{abiItem:a,type:l[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new Fo({name:t});return{...c,...s?{hash:fn(c)}:{}}}function $f(e){return $i(fn(e),0,4)}function qy(e){const t=typeof e=="string"?e:Xr(e);return ko(t)}function fn(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:If(Ai(qy(e)))}class Dy extends te{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ko(Xr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ko(Xr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Fo extends te{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const Hy=/^(.*)\[([0-9]*)\]$/,Gy=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Cf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Vy({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Fi({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Fi({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=em(r.type);if(s){const[o,i]=s;return Ky(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Xy(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Wy(n,{checksum:e});if(r.type==="bool")return Zy(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Cf.exec(r.type)??[];return Jy(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Qy(n,{type:r.type});if(r.type==="string")return Yy(n);throw new kf(r.type)}function Mi(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Be(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(le(t+s,{size:32})),r.push(a),s+=Be(a)):n.push(a)}return Ke(...n,...r)}function Wy(e,t){const{checksum:n=!1}=t;return As(e,{strict:n}),{dynamic:!1,encoded:Jt(e.toLowerCase())}}function Ky(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new nm(e);if(!o&&e.length!==r)throw new tm({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=Fi({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Mi(a);if(o){const u=le(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ke(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ke(...a.map(({encoded:c})=>c))}}function Qy(e,{type:t}){const[,n]=t.split("bytes"),r=Be(e);if(!n){let s=e;return r%32!==0&&(s=Yt(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ke(Jt(le(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new Of({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Yt(e)}}function Zy(e){if(typeof e!="boolean")throw new te(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Jt(Xu(e))}}function Jy(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new tf({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:le(e,{size:32,signed:t})}}function Yy(e){const t=Ai(e),n=Math.ceil(Be(t)/32),r=[];for(let s=0;s<n;s++)r.push(Yt($i(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ke(Yt(le(Be(t),{size:32})),...r)}}function Xy(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=Fi({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Mi(o):Ke(...o.map(({encoded:i})=>i))}}function em(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Bf(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Tf({expectedLength:e.length,givenLength:t.length});const s=Vy({checksumAddress:r,parameters:e,values:t}),o=Mi(s);return o.length===0?"0x":o}function Mo(e,t){if(e.length!==t.length)throw new Tf({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Mo.encode(s,o))}return Ke(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return As(c),Jt(c.toLowerCase(),s?32:0)}if(n==="string")return Ai(r);if(n==="bytes")return r;if(n==="bool")return Jt(Xu(r),s?32:1);const o=n.match(Cf);if(o){const[c,u,f="256"]=o,l=Number.parseInt(f)/8;return le(r,{size:s?32:l,signed:u==="int"})}const i=n.match(Gy);if(i){const[c,u]=i;if(Number.parseInt(u)!==(r.length-2)/2)throw new Of({expectedSize:Number.parseInt(u),value:r});return Yt(r,s?32:0)}const a=n.match(Hy);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let l=0;l<r.length;l++)f.push(t(u,r[l],!0));return f.length===0?"0x":Ke(...f)}throw new kf(n)}e.encode=t})(Mo||(Mo={}));class tm extends te{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Of extends te{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Be(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Tf extends te{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class nm extends te{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class kf extends te{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function rm(e,t){var s;const{bytecode:n,args:r}=t;return Ke(n,(s=e.inputs)!=null&&s.length&&(r!=null&&r.length)?Bf(e.inputs,r):"0x")}function sm(e){return Af(e)}function om(e,...t){const{overloads:n}=e,r=n?im([e,...n],e.name,{args:t[0]}):e,s=am(r),o=t.length>0?Bf(r.inputs,t[0]):void 0;return o?Ke(s,o):s}function an(e,t={}){return Af(e,t)}function im(e,t,n){const r=Uy(e,t,n);if(r.type!=="function")throw new Fo({name:t,type:"function"});return r}function am(e){return $f(e)}const cm="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ue="0x0000000000000000000000000000000000000000",_r=new ds(8192);function um(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(_r.get(n))return _r.get(n);const r=e().finally(()=>_r.delete(n));return _r.set(n,r),r}async function ts(e){return new Promise(t=>setTimeout(t,e))}function ns(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await ts(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function fm(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((l=o==null?void 0:o.exclude)!=null&&l.includes(u))throw new Rt(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new Rt(new Error("method not supported"),{method:u});const f=s?Sn(`${c}.${re(n)}`):void 0;return um(()=>ns(async()=>{try{return await e(n)}catch(d){const h=d;switch(h.code){case tr.code:throw new tr(h);case nr.code:throw new nr(h);case rr.code:throw new rr(h,{method:n.method});case sr.code:throw new sr(h);case Vt.code:throw new Vt(h);case Wt.code:throw new Wt(h);case or.code:throw new or(h);case St.code:throw new St(h);case On.code:throw new On(h);case Rt.code:throw new Rt(h,{method:n.method});case Tn.code:throw new Tn(h);case ir.code:throw new ir(h);case ae.code:throw new ae(h);case ar.code:throw new ar(h);case cr.code:throw new cr(h);case ur.code:throw new ur(h);case fr.code:throw new fr(h);case Kt.code:throw new Kt(h);case lr.code:throw new lr(h);case dr.code:throw new dr(h);case hr.code:throw new hr(h);case pr.code:throw new pr(h);case yr.code:throw new yr(h);case mr.code:throw new mr(h);case br.code:throw new br(h);case 5e3:throw new ae(h);default:throw d instanceof T?d:new ch(h)}}},{delay:({count:d,error:h})=>{var y;if(h&&h instanceof Gt){const p=(y=h==null?void 0:h.headers)==null?void 0:y.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p)*1e3}return~~(1<<d)*i},retryCount:a,shouldRetry:({error:d})=>lm(d)}),{enabled:s,id:f})}}function lm(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Tn.code||e.code===Vt.code:e instanceof Gt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class dm extends T{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(c=>`    ${$r(c)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class hm extends T{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${$r(n)}`,`Response: ${re(t)}`],name:"OffchainLookupResponseMalformedError"})}}class pm extends T{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const ym="0x556f1830",Rf={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function mm(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Du({data:r,abi:[Rf]}),[i,a,c,u,f]=o,{ccipRead:l}=e,d=l&&typeof(l==null?void 0:l.request)=="function"?l.request:Ff;try{if(!Ps(s,i))throw new pm({sender:i,to:s});const h=a.includes(vs)?await Wu({data:c,ccipRequest:d}):await d({data:c,sender:i,urls:a}),{data:y}=await zn(e,{blockNumber:t,blockTag:n,data:_e([u,ct([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return y}catch(h){throw new dm({callbackSelector:u,cause:h,data:r,extraData:f,sender:i,urls:a})}}async function Ff({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const i=n[o],a=i.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:a});let l;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?l=(await f.json()).data:l=await f.text(),!f.ok){r=new Gt({body:c,details:l!=null&&l.error?re(l.error):f.statusText,headers:f.headers,status:f.status,url:i});continue}if(!Me(l)){r=new hm({result:l,url:i});continue}return l}catch(f){r=new Gt({body:c,details:f.message,url:i})}}throw r}const bm=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ff,offchainLookup:mm,offchainLookupAbiItem:Rf,offchainLookupSignature:ym},Symbol.toStringTag,{value:"Module"}));function Gw(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Mf(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function gm(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const qa=gm();function wm(e,t={}){return{async request(n){var l;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:f}=a;try{const d=await Mf(async({signal:y})=>{const p={...a,body:Array.isArray(r)?re(r.map(x=>({jsonrpc:"2.0",id:x.id??qa.take(),...x}))):re({jsonrpc:"2.0",id:r.id??qa.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(i>0?y:null)},m=new Request(e,p),v=await(s==null?void 0:s(m,p))??{...p,url:e};return await fetch(v.url??e,v)},{errorInstance:new da({body:r,url:e}),timeout:i,signal:!0});o&&await o(d);let h;if((l=d.headers.get("Content-Type"))!=null&&l.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(y){if(d.ok)throw y;h={error:h}}}if(!d.ok)throw new Gt({body:r,details:re(h.error)||d.statusText,headers:d.headers,status:d.status,url:e});return h}catch(d){throw d instanceof Gt||d instanceof da?d:new Gt({body:r,cause:d,url:e})}}}}class vm extends T{constructor({domain:t}){super(`Invalid domain "${re(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class xm extends T{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Em extends T{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Pm(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Cm({domain:t}),...e.types};$m({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Im({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Nf({data:n,primaryType:r,types:s})),ie(_e(o))}function Im({domain:e,types:t}){return Nf({data:e,primaryType:"EIP712Domain",types:t})}function Nf({data:e,primaryType:t,types:n}){const r=_f({data:e,primaryType:t,types:n});return ie(r)}function _f({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Sm({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=zf({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return ct(r,s)}function Sm({primaryType:e,types:t}){const n=We(Am({primaryType:e,types:t}));return ie(n)}function Am({primaryType:e,types:t}){let n="";const r=jf({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function jf({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])jf({primaryType:o.type,types:t},n);return n}function zf({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ie(_f({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ie(r)];if(n==="string")return[{type:"bytes32"},ie(We(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>zf({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},ie(ct(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function $m(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,l=a[u],d=f.match(tu);if(d&&(typeof l=="number"||typeof l=="bigint")){const[p,m,v]=d;U(l,{signed:m==="int",size:Number.parseInt(v)/8})}if(f==="address"&&typeof l=="string"&&!Ce(l))throw new $t({address:l});const h=f.match(Td);if(h){const[p,m]=h;if(m&&X(l)!==Number.parseInt(m))throw new ed({expectedSize:Number.parseInt(m),givenSize:X(l)})}const y=s[f];y&&(Bm(f),o(y,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new vm({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new xm({primaryType:r,types:s})}function Cm({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Bm(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Em({type:e})}const Om=`Ethereum Signed Message:
`;function Tm(e){const t=typeof e=="string"?Sn(e):typeof e.raw=="string"?e.raw:se(e.raw),n=Sn(`${Om}${X(t)}`);return _e([n,t])}function Lf(e,t){return ie(Tm(e),t)}const Uf="0x6492649264926492649264926492649264926492649264926492649264926492";function km(e){return eu(e,-32)===Uf}function Rm(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=Mn([ct([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Uf]);return s==="hex"?o:$e(o)}const Fm="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Mm(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?he(t.account):void 0;if(i&&!u)throw new T("`account` is required when `traceAssetChanges` is true");const f=u?rm(sm("constructor(bytes, bytes)"),{bytecode:sf,args:[Fm,om(an("function getBalance(address)"),[u.address])]}):void 0,l=i?await Promise.all(t.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:z}=await pf(e,{account:u.address,...k,data:k.abi?ze(k):k.data});return z.map(({address:D,storageKeys:L})=>L.length>0?D:null)})).then(k=>k.flat().filter(Boolean)):[],d=await Oo(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:l.map((k,z)=>({abi:[an("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Ue,nonce:z})),stateOverrides:[{address:Ue,nonce:0}]}]:[],{calls:[...s,{}].map(k=>({...k,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:l.map((k,z)=>({abi:[an("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Ue,nonce:z})),stateOverrides:[{address:Ue,nonce:0}]},{calls:l.map((k,z)=>({to:k,abi:[an("function decimals() returns (uint256)")],functionName:"decimals",from:Ue,nonce:z})),stateOverrides:[{address:Ue,nonce:0}]},{calls:l.map((k,z)=>({to:k,abi:[an("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ue,nonce:z})),stateOverrides:[{address:Ue,nonce:0}]},{calls:l.map((k,z)=>({to:k,abi:[an("function symbol() returns (string)")],functionName:"symbol",from:Ue,nonce:z})),stateOverrides:[{address:Ue,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?d[2]:d[0],[y,p,,m,v,E,x,P]=i?d:[],{calls:b,...S}=h,I=b.slice(0,-1)??[],$=(y==null?void 0:y.calls)??[],w=(p==null?void 0:p.calls)??[],C=[...$,...w].map(k=>k.status==="success"?Ve(k.data):null),A=(m==null?void 0:m.calls)??[],B=(v==null?void 0:v.calls)??[],O=[...A,...B].map(k=>k.status==="success"?Ve(k.data):null),R=((E==null?void 0:E.calls)??[]).map(k=>k.status==="success"?k.result:null),F=((P==null?void 0:P.calls)??[]).map(k=>k.status==="success"?k.result:null),N=((x==null?void 0:x.calls)??[]).map(k=>k.status==="success"?k.result:null),_=[];for(const[k,z]of O.entries()){const D=C[k];if(typeof z!="bigint"||typeof D!="bigint")continue;const L=R[k-1],J=F[k-1],Q=N[k-1],ee=k===0?{address:cm,decimals:18,symbol:"ETH"}:{address:l[k-1],decimals:Q||L?Number(L??1):void 0,symbol:J??void 0};_.some(W=>W.token.address===ee.address)||_.push({token:ee,value:{pre:D,post:z,diff:z-D}})}return{assetChanges:_,block:S,results:I}}const Ws=new Map,Da=new Map;let Nm=0;function Ct(e,t,n){const r=++Nm,s=()=>Ws.get(e)||[],o=()=>{const f=s();Ws.set(e,f.filter(l=>l.id!==r))},i=()=>{const f=s();if(!f.some(d=>d.id===r))return;const l=Da.get(e);if(f.length===1&&l){const d=l();d instanceof Promise&&d.catch(()=>{})}o()},a=s();if(Ws.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=(...l)=>{var h,y;const d=s();if(d.length!==0)for(const p of d)(y=(h=p.fns)[f])==null||y.call(h,...l)};const u=n(c);return typeof u=="function"&&Da.set(e,u),i}function Rr(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await ts(c);const u=async()=>{s&&(await e({unpoll:o}),await ts(r),u())};u()})(),o}function _m(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let l;return u?(()=>{const y=re(["watchBlocks",e.uid,t,n,r,f,c]);return Ct(y,{onBlock:s,onError:o},p=>Rr(async()=>{var m;try{const v=await q(e,Ge,"getBlock")({blockTag:t,includeTransactions:f});if(v.number!==null&&(l==null?void 0:l.number)!=null){if(v.number===l.number)return;if(v.number-l.number>1&&n)for(let E=(l==null?void 0:l.number)+1n;E<v.number;E++){const x=await q(e,Ge,"getBlock")({blockNumber:E,includeTransactions:f});p.onBlock(x,l),l=x}}((l==null?void 0:l.number)==null||t==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>l.number)&&(p.onBlock(v,l),l=v)}catch(v){(m=p.onError)==null||m.call(p,v)}},{emitOnBegin:r,interval:c}))})():(()=>{let y=!0,p=!0,m=()=>y=!1;return(async()=>{try{r&&q(e,Ge,"getBlock")({blockTag:t,includeTransactions:f}).then(x=>{y&&p&&(s(x,void 0),p=!1)}).catch(o);const v=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:E}=await v.subscribe({params:["newHeads"],async onData(x){var b;if(!y)return;const P=await q(e,Ge,"getBlock")({blockNumber:(b=x.result)==null?void 0:b.number,includeTransactions:f}).catch(()=>{});y&&(s(P,l),p=!1,l=P)},onError(x){o==null||o(x)}});m=E,y||m()}catch(v){o==null||o(v)}})(),()=>m()})()}function qf(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const l=re(["watchBlockNumber",e.uid,t,n,i]);return Ct(l,{onBlockNumber:r,onError:s},d=>Rr(async()=>{var h;try{const y=await q(e,kr,"getBlockNumber")({cacheTime:0});if(c){if(y===c)return;if(y-c>1&&n)for(let p=c+1n;p<y;p++)d.onBlockNumber(p,c),c=p}(!c||y>c)&&(d.onBlockNumber(y,c),c=y)}catch(y){(h=d.onError)==null||h.call(d,y)}},{emitOnBegin:t,interval:i}))})():(()=>{const l=re(["watchBlockNumber",e.uid,t,n]);return Ct(l,{onBlockNumber:r,onError:s},d=>{let h=!0,y=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:m}=await p.subscribe({params:["newHeads"],onData(v){var x;if(!h)return;const E=Ve((x=v.result)==null?void 0:x.number);d.onBlockNumber(E,c),c=E},onError(v){var E;(E=d.onError)==null||E.call(d,v)}});y=m,h||y()}catch(p){s==null||s(p)}})(),()=>y()})})()}async function $s(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function jm(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:l}){const d=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=l??!1;return d?(()=>{const m=re(["watchEvent",t,n,r,e.uid,s,f,i]);return Ct(m,{onLogs:c,onError:a},v=>{let E;i!==void 0&&(E=i-1n);let x,P=!1;const b=Rr(async()=>{var S;if(!P){try{x=await q(e,mf,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}P=!0;return}try{let I;if(x)I=await q(e,Is,"getFilterChanges")({filter:x});else{const $=await q(e,kr,"getBlockNumber")({});E&&E!==$?I=await q(e,ki,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:E+1n,toBlock:$}):I=[],E=$}if(I.length===0)return;if(r)v.onLogs(I);else for(const $ of I)v.onLogs([$])}catch(I){x&&I instanceof Wt&&(P=!1),(S=v.onError)==null||S.call(v,I)}},{emitOnBegin:!0,interval:f});return async()=>{x&&await q(e,$s,"uninstallFilter")({filter:x}),b()}})})():(()=>{let m=!0,v=()=>m=!1;return(async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),x=o??(s?[s]:void 0);let P=[];x&&(P=[x.flatMap(I=>Tr({abi:[I],eventName:I.name,args:n}))],s&&(P=P[0]));const{unsubscribe:b}=await E.subscribe({params:["logs",{address:t,topics:P}],onData(S){var $;if(!m)return;const I=S.result;try{const{eventName:w,args:C}=Oi({abi:x??[],data:I.data,topics:I.topics,strict:h}),A=at(I,{args:C,eventName:w});c([A])}catch(w){let C,A;if(w instanceof Yn||w instanceof ls){if(l)return;C=w.abiItem.name,A=($=w.abiItem.inputs)==null?void 0:$.some(O=>!("name"in O&&O.name))}const B=at(I,{args:A?[]:{},eventName:C});c([B])}},onError(S){a==null||a(S)}});v=b,m||v()}catch(E){a==null||a(E)}})(),()=>v()})()}function zm(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=re(["watchPendingTransactions",e.uid,t,o]);return Ct(u,{onTransactions:r,onError:n},f=>{let l;const d=Rr(async()=>{var h;try{if(!l)try{l=await q(e,bf,"createPendingTransactionFilter")({});return}catch(p){throw d(),p}const y=await q(e,Is,"getFilterChanges")({filter:l});if(y.length===0)return;if(t)f.onTransactions(y);else for(const p of y)f.onTransactions([p])}catch(y){(h=f.onError)==null||h.call(f,y)}},{emitOnBegin:!0,interval:o});return async()=>{l&&await q(e,$s,"uninstallFilter")({filter:l}),d()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const h=d.result;r([h])},onError(d){n==null||n(d)}});f=l,u||f()}catch(l){n==null||n(l)}})(),()=>f()})()}function Lm(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Um(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?it(e.nonce):void 0,storageProof:e.storageProof?Lm(e.storageProof):void 0}}async function qm(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?U(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Um(a)}async function Df(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:b})=>~~(1<<b)*200,timeout:c=18e4}=t,u=re(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var b;return t.pollingInterval?t.pollingInterval:(b=e.chain)!=null&&b.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let l,d,h,y=!1,p,m;const{promise:v,resolve:E,reject:x}=af(),P=c?setTimeout(()=>{m(),p(),x(new oh({hash:s}))},c):void 0;return p=Ct(u,{onReplaced:o,resolve:E,reject:x},async b=>{if(h=await q(e,Wr,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(P),b.resolve(h),p();return}m=q(e,qf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(S){const I=w=>{clearTimeout(P),m(),w(),p()};let $=S;if(!y)try{if(h){if(r>1&&(!h.blockNumber||$-h.blockNumber+1n<r))return;I(()=>b.resolve(h));return}if(n&&!l&&(y=!0,await ns(async()=>{l=await q(e,Ss,"getTransaction")({hash:s}),l.blockNumber&&($=l.blockNumber)},{delay:a,retryCount:i}),y=!1),h=await q(e,Wr,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||$-h.blockNumber+1n<r))return;I(()=>b.resolve(h))}catch(w){if(w instanceof uu||w instanceof fu){if(!l){y=!1;return}try{d=l,y=!0;const C=await ns(()=>q(e,Ge,"getBlock")({blockNumber:$,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:O})=>O instanceof lu});y=!1;const A=C.transactions.find(({from:O,nonce:R})=>O===d.from&&R===d.nonce);if(!A||(h=await q(e,Wr,"getTransactionReceipt")({hash:A.hash}),r>1&&(!h.blockNumber||$-h.blockNumber+1n<r)))return;let B="replaced";A.to===d.to&&A.value===d.value&&A.input===d.input?B="repriced":A.from===A.to&&A.value===0n&&(B="cancelled"),I(()=>{var O;(O=b.onReplaced)==null||O.call(b,{reason:B,replacedTransaction:d,transaction:A,transactionReceipt:h}),b.resolve(h)})}catch(C){I(()=>b.reject(C))}}else I(()=>b.reject(w))}}})}),v}async function Dm(e,{account:t=e.account,message:n}){if(!t)throw new li({docsPath:"/docs/actions/wallet/signMessage"});const r=he(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Sn(n):n.raw instanceof Uint8Array?We(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Hf(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?he(a.account):e.account,u=ze({abi:n,args:s,functionName:i});try{const{data:f}=await q(e,zn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),l=nn({abi:n,args:s,functionName:i,data:f||"0x"}),d=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:l,request:{abi:d,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw Zt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}class Gf extends ii{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ld(t);const r=hs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Cn(o)}update(t){return $n(this),this.iHash.update(t),this}digestInto(t){$n(this),je(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vf=(e,t,n)=>new Gf(e,t).update(n).digest();Vf.create=(e,t)=>new Gf(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ni=BigInt(0),No=BigInt(1);function rs(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function jr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Wf(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ni:BigInt("0x"+e)}function Cs(e){return Wf(er(e))}function Kf(e){return je(e),Wf(er(Uint8Array.from(e).reverse()))}function _i(e,t){return oi(e.toString(16).padStart(t*2,"0"))}function Qf(e,t){return _i(e,t).reverse()}function Pe(e,t,n){let r;if(typeof t=="string")try{r=oi(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(si(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const Ks=e=>typeof e=="bigint"&&Ni<=e;function Hm(e,t,n){return Ks(e)&&Ks(t)&&Ks(n)&&t<=e&&e<n}function Gm(e,t,n,r){if(!Hm(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Vm(e){let t;for(t=0;e>Ni;e>>=No,t+=1);return t}const Bs=e=>(No<<BigInt(e))-No;function Wm(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let o=r(e),i=r(e),a=0;const c=()=>{o.fill(1),i.fill(0),a=0},u=(...h)=>n(i,o,...h),f=(h=r(0))=>{i=u(s(0),h),o=u(),h.length!==0&&(i=u(s(1),h),o=u())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const y=[];for(;h<t;){o=u();const p=o.slice();y.push(p),h+=o.length}return Tt(...y)};return(h,y)=>{c(),f(h);let p;for(;!(p=y(l()));)f();return c(),p}}function ji(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,o,i){const a=e[s];if(i&&a===void 0)return;const c=typeof a;if(c!==o||a===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([s,o])=>r(s,o,!1)),Object.entries(n).forEach(([s,o])=>r(s,o,!0))}function Ha(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const me=BigInt(0),de=BigInt(1),Ft=BigInt(2),Km=BigInt(3),Zf=BigInt(4),Jf=BigInt(5),Yf=BigInt(8);function Se(e,t){const n=e%t;return n>=me?n:t+n}function Ee(e,t,n){let r=e;for(;t-- >me;)r*=r,r%=n;return r}function Ga(e,t){if(e===me)throw new Error("invert: expected non-zero number");if(t<=me)throw new Error("invert: expected positive modulus, got "+t);let n=Se(e,t),r=t,s=me,o=de;for(;n!==me;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==de)throw new Error("invert: does not exist");return Se(s,t)}function Xf(e,t){const n=(e.ORDER+de)/Zf,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Qm(e,t){const n=(e.ORDER-Jf)/Yf,r=e.mul(t,Ft),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Ft),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Zm(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-de,n=0;for(;t%Ft===me;)t/=Ft,n++;let r=Ft;const s=Os(e);for(;Va(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Xf;let o=s.pow(r,t);const i=(t+de)/Ft;return function(c,u){if(c.is0(u))return u;if(Va(c,u)!==1)throw new Error("Cannot find square root");let f=n,l=c.mul(c.ONE,o),d=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let y=1,p=c.sqr(d);for(;!c.eql(p,c.ONE);)if(y++,p=c.sqr(p),y===f)throw new Error("Cannot find square root");const m=de<<BigInt(f-y-1),v=c.pow(l,m);f=y,l=c.sqr(v),d=c.mul(d,l),h=c.mul(h,v)}return h}}function Jm(e){return e%Zf===Km?Xf:e%Yf===Jf?Qm:Zm(e)}const Ym=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Xm(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Ym.reduce((r,s)=>(r[s]="function",r),t);return ji(e,n),e}function eb(e,t,n){if(n<me)throw new Error("invalid exponent, negatives unsupported");if(n===me)return e.ONE;if(n===de)return t;let r=e.ONE,s=t;for(;n>me;)n&de&&(r=e.mul(r,s)),s=e.sqr(s),n>>=de;return r}function el(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Va(e,t){const n=(e.ORDER-de)/Ft,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function tb(e,t){t!==void 0&&Xn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Os(e,t,n=!1,r={}){if(e<=me)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const f=t;f.BITS&&(s=f.BITS),f.sqrt&&(o=f.sqrt),typeof f.isLE=="boolean"&&(n=f.isLE)}else typeof t=="number"&&(s=t),r.sqrt&&(o=r.sqrt);const{nBitLength:i,nByteLength:a}=tb(e,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:a,MASK:Bs(i),ZERO:me,ONE:de,create:f=>Se(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return me<=f&&f<e},is0:f=>f===me,isValidNot0:f=>!u.is0(f)&&u.isValid(f),isOdd:f=>(f&de)===de,neg:f=>Se(-f,e),eql:(f,l)=>f===l,sqr:f=>Se(f*f,e),add:(f,l)=>Se(f+l,e),sub:(f,l)=>Se(f-l,e),mul:(f,l)=>Se(f*l,e),pow:(f,l)=>eb(u,f,l),div:(f,l)=>Se(f*Ga(l,e),e),sqrN:f=>f*f,addN:(f,l)=>f+l,subN:(f,l)=>f-l,mulN:(f,l)=>f*l,inv:f=>Ga(f,e),sqrt:o||(f=>(c||(c=Jm(e)),c(u,f))),toBytes:f=>n?Qf(f,a):_i(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return n?Kf(f):Cs(f)},invertBatch:f=>el(u,f),cmov:(f,l,d)=>d?l:f});return Object.freeze(u)}function tl(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function nl(e){const t=tl(e);return t+Math.ceil(t/2)}function nb(e,t,n=!1){const r=e.length,s=tl(t),o=nl(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Kf(e):Cs(e),a=Se(i,t-de)+de;return n?Qf(a,s):_i(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kn=BigInt(0),Mt=BigInt(1);function Qn(e,t){const n=t.negate();return e?n:t}function rb(e,t,n){const r=i=>i.pz,s=el(e.Fp,n.map(r));return n.map((i,a)=>i.toAffine(s[a])).map(e.fromAffine)}function rl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Qs(e,t){rl(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Bs(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Wa(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=Mt);const u=t*r,f=u+Math.abs(a)-1,l=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:l,isNeg:d,isNegF:h,offsetF:u}}function sb(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function ob(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Zs=new WeakMap,sl=new WeakMap;function Js(e){return sl.get(e)||1}function Ka(e){if(e!==kn)throw new Error("invalid wNAF")}function ib(e,t){return{constTimeNegate:Qn,hasPrecomputes(n){return Js(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>kn;)r&Mt&&(s=s.add(o)),o=o.double(),r>>=Mt;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Qs(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=Qs(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:l,isNeg:d,isNegF:h,offsetF:y}=Wa(s,c,a);s=u,l?i=i.add(Qn(h,r[y])):o=o.add(Qn(d,r[f]))}return Ka(s),{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Qs(n,t);for(let a=0;a<i.windows&&s!==kn;a++){const{nextN:c,offset:u,isZero:f,isNeg:l}=Wa(s,a,i);if(s=c,!f){const d=r[u];o=o.add(l?d.negate():d)}}return Ka(s),o},getPrecomputes(n,r,s){let o=Zs.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(o=s(o)),Zs.set(r,o))),o},wNAFCached(n,r,s){const o=Js(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Js(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){rl(r,t),sl.set(n,r),Zs.delete(n)}}}function ab(e,t,n,r){let s=t,o=e.ZERO,i=e.ZERO;for(;n>kn||r>kn;)n&Mt&&(o=o.add(s)),r&Mt&&(i=i.add(s)),s=s.double(),n>>=Mt,r>>=Mt;return{p1:o,p2:i}}function cb(e,t,n,r){sb(n,e),ob(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Vm(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Bs(c),f=new Array(Number(u)+1).fill(i),l=Math.floor((t.BITS-1)/c)*c;let d=i;for(let h=l;h>=0;h-=c){f.fill(i);for(let p=0;p<o;p++){const m=r[p],v=Number(m>>BigInt(h)&u);f[v]=f[v].add(n[p])}let y=i;for(let p=f.length-1,m=i;p>0;p--)m=m.add(f[p]),y=y.add(m);if(d=d.add(y),h!==0)for(let p=0;p<c;p++)d=d.double()}return d}function Qa(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Xm(t),t}else return Os(e)}function ub(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const c=t[a];if(!(typeof c=="bigint"&&c>kn))throw new Error(`CURVE.${a} must be positive bigint`)}const r=Qa(t.p,n.Fp),s=Qa(t.n,n.Fn),i=["Gx","Gy","a","b"];for(const a of i)if(!r.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Za(e){e.lowS!==void 0&&rs("lowS",e.lowS),e.prehash!==void 0&&rs("prehash",e.prehash)}class fb extends Error{constructor(t=""){super(t)}}const et={Err:fb,_tlv:{encode:(e,t)=>{const{Err:n}=et;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=jr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?jr(s.length/2|128):"";return jr(e)+o+s+t},decode(e,t){const{Err:n}=et;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=et;if(e<Zn)throw new t("integer: negative integers are not allowed");let n=jr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=et;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Cs(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=et,s=Pe("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=et,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}},Zn=BigInt(0),Jn=BigInt(1),lb=BigInt(2),zr=BigInt(3),db=BigInt(4);function hb(e,t,n){function r(s){const o=e.sqr(s),i=e.mul(o,s);return e.add(e.add(i,e.mul(s,t)),n)}return r}function ol(e,t,n){const{BYTES:r}=e;function s(o){let i;if(typeof o=="bigint")i=o;else{let a=Pe("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{i=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(i=e.create(i)),!e.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}return s}function pb(e,t={}){const{Fp:n,Fn:r}=ub("weierstrass",e,t),{h:s,n:o}=e;ji(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:i}=t;if(i&&(!n.is0(e.a)||typeof i.beta!="bigint"||typeof i.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c($,w,C){const{x:A,y:B}=w.toAffine(),O=n.toBytes(A);if(rs("isCompressed",C),C){a();const R=!n.isOdd(B);return Tt(il(R),O)}else return Tt(Uint8Array.of(4),O,n.toBytes(B))}function u($){je($);const w=n.BYTES,C=w+1,A=2*w+1,B=$.length,O=$[0],R=$.subarray(1);if(B===C&&(O===2||O===3)){const F=n.fromBytes(R);if(!n.isValid(F))throw new Error("bad point: is not on curve, wrong x");const N=d(F);let _;try{_=n.sqrt(N)}catch(D){const L=D instanceof Error?": "+D.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}a();const k=n.isOdd(_);return(O&1)===1!==k&&(_=n.neg(_)),{x:F,y:_}}else if(B===A&&O===4){const F=n.fromBytes(R.subarray(w*0,w*1)),N=n.fromBytes(R.subarray(w*1,w*2));if(!h(F,N))throw new Error("bad point: is not on curve");return{x:F,y:N}}else throw new Error(`bad point: got length ${B}, expected compressed=${C} or uncompressed=${A}`)}const f=t.toBytes||c,l=t.fromBytes||u,d=hb(n,e.a,e.b);function h($,w){const C=n.sqr(w),A=d($);return n.eql(C,A)}if(!h(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const y=n.mul(n.pow(e.a,zr),db),p=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(y,p)))throw new Error("bad curve params: a or b");function m($,w,C=!1){if(!n.isValid(w)||C&&n.is0(w))throw new Error(`bad point coordinate ${$}`);return w}function v($){if(!($ instanceof b))throw new Error("ProjectivePoint expected")}const E=Ha(($,w)=>{const{px:C,py:A,pz:B}=$;if(n.eql(B,n.ONE))return{x:C,y:A};const O=$.is0();w==null&&(w=O?n.ONE:n.inv(B));const R=n.mul(C,w),F=n.mul(A,w),N=n.mul(B,w);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:R,y:F}}),x=Ha($=>{if($.is0()){if(t.allowInfinityPoint&&!n.is0($.py))return;throw new Error("bad point: ZERO")}const{x:w,y:C}=$.toAffine();if(!n.isValid(w)||!n.isValid(C))throw new Error("bad point: x or y not field elements");if(!h(w,C))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function P($,w,C,A,B){return C=new b(n.mul(C.px,$),C.py,C.pz),w=Qn(A,w),C=Qn(B,C),w.add(C)}class b{constructor(w,C,A){this.px=m("x",w),this.py=m("y",C,!0),this.pz=m("z",A),Object.freeze(this)}static fromAffine(w){const{x:C,y:A}=w||{};if(!w||!n.isValid(C)||!n.isValid(A))throw new Error("invalid affine point");if(w instanceof b)throw new Error("projective point not allowed");return n.is0(C)&&n.is0(A)?b.ZERO:new b(C,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){return rb(b,"pz",w)}static fromBytes(w){return je(w),b.fromHex(w)}static fromHex(w){const C=b.fromAffine(l(Pe("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){const C=ol(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return b.BASE.multiply(C(w))}static msm(w,C){return cb(b,r,w,C)}precompute(w=8,C=!0){return I.setWindowSize(this,w),C||this.multiply(zr),this}_setWindowSize(w){this.precompute(w)}assertValidity(){x(this)}hasEvenY(){const{y:w}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(w)}equals(w){v(w);const{px:C,py:A,pz:B}=this,{px:O,py:R,pz:F}=w,N=n.eql(n.mul(C,F),n.mul(O,B)),_=n.eql(n.mul(A,F),n.mul(R,B));return N&&_}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:C}=e,A=n.mul(C,zr),{px:B,py:O,pz:R}=this;let F=n.ZERO,N=n.ZERO,_=n.ZERO,k=n.mul(B,B),z=n.mul(O,O),D=n.mul(R,R),L=n.mul(B,O);return L=n.add(L,L),_=n.mul(B,R),_=n.add(_,_),F=n.mul(w,_),N=n.mul(A,D),N=n.add(F,N),F=n.sub(z,N),N=n.add(z,N),N=n.mul(F,N),F=n.mul(L,F),_=n.mul(A,_),D=n.mul(w,D),L=n.sub(k,D),L=n.mul(w,L),L=n.add(L,_),_=n.add(k,k),k=n.add(_,k),k=n.add(k,D),k=n.mul(k,L),N=n.add(N,k),D=n.mul(O,R),D=n.add(D,D),k=n.mul(D,L),F=n.sub(F,k),_=n.mul(D,z),_=n.add(_,_),_=n.add(_,_),new b(F,N,_)}add(w){v(w);const{px:C,py:A,pz:B}=this,{px:O,py:R,pz:F}=w;let N=n.ZERO,_=n.ZERO,k=n.ZERO;const z=e.a,D=n.mul(e.b,zr);let L=n.mul(C,O),J=n.mul(A,R),Q=n.mul(B,F),ee=n.add(C,A),W=n.add(O,R);ee=n.mul(ee,W),W=n.add(L,J),ee=n.sub(ee,W),W=n.add(C,B);let Z=n.add(O,F);return W=n.mul(W,Z),Z=n.add(L,Q),W=n.sub(W,Z),Z=n.add(A,B),N=n.add(R,F),Z=n.mul(Z,N),N=n.add(J,Q),Z=n.sub(Z,N),k=n.mul(z,W),N=n.mul(D,Q),k=n.add(N,k),N=n.sub(J,k),k=n.add(J,k),_=n.mul(N,k),J=n.add(L,L),J=n.add(J,L),Q=n.mul(z,Q),W=n.mul(D,W),J=n.add(J,Q),Q=n.sub(L,Q),Q=n.mul(z,Q),W=n.add(W,Q),L=n.mul(J,W),_=n.add(_,L),L=n.mul(Z,W),N=n.mul(ee,N),N=n.sub(N,L),L=n.mul(ee,J),k=n.mul(Z,k),k=n.add(k,L),new b(N,_,k)}subtract(w){return this.add(w.negate())}is0(){return this.equals(b.ZERO)}multiply(w){const{endo:C}=t;if(!r.isValidNot0(w))throw new Error("invalid scalar: out of range");let A,B;const O=R=>I.wNAFCached(this,R,b.normalizeZ);if(C){const{k1neg:R,k1:F,k2neg:N,k2:_}=C.splitScalar(w),{p:k,f:z}=O(F),{p:D,f:L}=O(_);B=z.add(L),A=P(C.beta,k,D,R,N)}else{const{p:R,f:F}=O(w);A=R,B=F}return b.normalizeZ([A,B])[0]}multiplyUnsafe(w){const{endo:C}=t,A=this;if(!r.isValid(w))throw new Error("invalid scalar: out of range");if(w===Zn||A.is0())return b.ZERO;if(w===Jn)return A;if(I.hasPrecomputes(this))return this.multiply(w);if(C){const{k1neg:B,k1:O,k2neg:R,k2:F}=C.splitScalar(w),{p1:N,p2:_}=ab(b,A,O,F);return P(C.beta,N,_,B,R)}else return I.wNAFCachedUnsafe(A,w)}multiplyAndAddUnsafe(w,C,A){const B=this.multiplyUnsafe(C).add(w.multiplyUnsafe(A));return B.is0()?void 0:B}toAffine(w){return E(this,w)}isTorsionFree(){const{isTorsionFree:w}=t;return s===Jn?!0:w?w(b,this):I.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:w}=t;return s===Jn?this:w?w(b,this):this.multiplyUnsafe(s)}toBytes(w=!0){return rs("isCompressed",w),this.assertValidity(),f(b,this,w)}toRawBytes(w=!0){return this.toBytes(w)}toHex(w=!0){return er(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}b.BASE=new b(e.Gx,e.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO),b.Fp=n,b.Fn=r;const S=r.BITS,I=ib(b,t.endo?Math.ceil(S/2):S);return b}function il(e){return Uint8Array.of(e?2:3)}function yb(e,t,n={}){ji(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||gd,s=t.hmac||((A,...B)=>Vf(t.hash,A,Tt(...B))),{Fp:o,Fn:i}=e,{ORDER:a,BITS:c}=i;function u(A){const B=a>>Jn;return A>B}function f(A){return u(A)?i.neg(A):A}function l(A,B){if(!i.isValidNot0(B))throw new Error(`invalid signature ${A}: out of range 1..CURVE.n`)}class d{constructor(B,O,R){l("r",B),l("s",O),this.r=B,this.s=O,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(B){const O=i.BYTES,R=Pe("compactSignature",B,O*2);return new d(i.fromBytes(R.subarray(0,O)),i.fromBytes(R.subarray(O,O*2)))}static fromDER(B){const{r:O,s:R}=et.toSig(Pe("DER",B));return new d(O,R)}assertValidity(){}addRecoveryBit(B){return new d(this.r,this.s,B)}recoverPublicKey(B){const O=o.ORDER,{r:R,s:F,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*lb<O&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const k=N===2||N===3?R+a:R;if(!o.isValid(k))throw new Error("recovery id 2 or 3 invalid");const z=o.toBytes(k),D=e.fromHex(Tt(il((N&1)===0),z)),L=i.inv(k),J=x(Pe("msgHash",B)),Q=i.create(-J*L),ee=i.create(F*L),W=e.BASE.multiplyUnsafe(Q).add(D.multiplyUnsafe(ee));if(W.is0())throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,i.neg(this.s),this.recovery):this}toBytes(B){if(B==="compact")return Tt(i.toBytes(this.r),i.toBytes(this.s));if(B==="der")return oi(et.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return er(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return er(this.toBytes("compact"))}}const h=ol(i,n.allowedPrivateKeyLengths,n.wrapPrivateKey),y={isValidPrivateKey(A){try{return h(A),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const A=a;return nb(r(nl(A)),A)},precompute(A=8,B=e.BASE){return B.precompute(A,!1)}};function p(A,B=!0){return e.fromPrivateKey(A).toBytes(B)}function m(A){if(typeof A=="bigint")return!1;if(A instanceof e)return!0;const O=Pe("key",A).length,R=o.BYTES,F=R+1,N=2*R+1;if(!(n.allowedPrivateKeyLengths||i.BYTES===F))return O===F||O===N}function v(A,B,O=!0){if(m(A)===!0)throw new Error("first arg must be private key");if(m(B)===!1)throw new Error("second arg must be public key");return e.fromHex(B).multiply(h(A)).toBytes(O)}const E=t.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const B=Cs(A),O=A.length*8-c;return O>0?B>>BigInt(O):B},x=t.bits2int_modN||function(A){return i.create(E(A))},P=Bs(c);function b(A){return Gm("num < 2^"+c,A,Zn,P),i.toBytes(A)}function S(A,B,O=I){if(["recovered","canonical"].some(ee=>ee in O))throw new Error("sign() legacy options not supported");const{hash:R}=t;let{lowS:F,prehash:N,extraEntropy:_}=O;F==null&&(F=!0),A=Pe("msgHash",A),Za(O),N&&(A=Pe("prehashed msgHash",R(A)));const k=x(A),z=h(B),D=[b(z),b(k)];if(_!=null&&_!==!1){const ee=_===!0?r(o.BYTES):_;D.push(Pe("extraEntropy",ee))}const L=Tt(...D),J=k;function Q(ee){const W=E(ee);if(!i.isValidNot0(W))return;const Z=i.inv(W),Un=e.BASE.multiply(W).toAffine(),rn=i.create(Un.x);if(rn===Zn)return;const Ot=i.create(Z*i.create(J+rn*z));if(Ot===Zn)return;let ks=(Un.x===rn?0:2)|Number(Un.y&Jn),sn=Ot;return F&&u(Ot)&&(sn=f(Ot),ks^=1),new d(rn,sn,ks)}return{seed:L,k2sig:Q}}const I={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function w(A,B,O=I){const{seed:R,k2sig:F}=S(A,B,O);return Wm(t.hash.outputLen,i.BYTES,s)(R,F)}e.BASE.precompute(8);function C(A,B,O,R=$){const F=A;B=Pe("msgHash",B),O=Pe("publicKey",O),Za(R);const{lowS:N,prehash:_,format:k}=R;if("strict"in R)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&!["compact","der","js"].includes(k))throw new Error('format must be "compact", "der" or "js"');const z=typeof F=="string"||si(F),D=!z&&!k&&typeof F=="object"&&F!==null&&typeof F.r=="bigint"&&typeof F.s=="bigint";if(!z&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L,J;try{if(D)if(k===void 0||k==="js")L=new d(F.r,F.s);else throw new Error("invalid format");if(z){try{k!=="compact"&&(L=d.fromDER(F))}catch(sn){if(!(sn instanceof et.Err))throw sn}!L&&k!=="der"&&(L=d.fromCompact(F))}J=e.fromHex(O)}catch{return!1}if(!L||N&&L.hasHighS())return!1;_&&(B=t.hash(B));const{r:Q,s:ee}=L,W=x(B),Z=i.inv(ee),Un=i.create(W*Z),rn=i.create(Q*Z),Ot=e.BASE.multiplyUnsafe(Un).add(J.multiplyUnsafe(rn));return Ot.is0()?!1:i.create(Ot.x)===Q}return Object.freeze({getPublicKey:p,getSharedSecret:v,sign:w,verify:C,utils:y,Point:e,Signature:d})}function mb(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Os(t.n,e.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function bb(e){const{CURVE:t,curveOpts:n}=mb(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function gb(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function wb(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=bb(e),s=pb(t,n),o=yb(s,r,n);return gb(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vb(e,t){const n=r=>wb({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ss={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const xb=BigInt(1),_o=BigInt(2),Ja=(e,t)=>(e+t/_o)/t;function Eb(e){const t=ss.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,l=Ee(f,n,t)*f%t,d=Ee(l,n,t)*f%t,h=Ee(d,_o,t)*u%t,y=Ee(h,s,t)*h%t,p=Ee(y,o,t)*y%t,m=Ee(p,a,t)*p%t,v=Ee(m,c,t)*m%t,E=Ee(v,a,t)*p%t,x=Ee(E,n,t)*f%t,P=Ee(x,i,t)*y%t,b=Ee(P,r,t)*u%t,S=Ee(b,_o,t);if(!jo.eql(jo.sqr(S),e))throw new Error("Cannot find square root");return S}const jo=Os(ss.p,void 0,void 0,{sqrt:Eb}),al=vb({...ss,Fp:jo,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ss.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-xb*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Ja(o*e,t),c=Ja(-r*e,t);let u=Se(e-a*n-c*s,t),f=Se(-a*r-c*o,t);const l=u>i,d=f>i;if(l&&(u=t-u),d&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:d,k2:f}}}},wu),Pb=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:al},Symbol.toStringTag,{value:"Module"}));function Ib({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new al.Signature(Ve(e),Ve(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:$e(i)}async function zi(e,t){var l,d,h;const{address:n,factory:r,factoryData:s,hash:o,signature:i,universalSignatureVerifierAddress:a=(h=(d=(l=e.chain)==null?void 0:l.contracts)==null?void 0:d.universalSignatureVerifier)==null?void 0:h.address,...c}=t,u=Me(i)?i:typeof i=="object"&&"r"in i&&"s"in i?Ib(i):se(i),f=await(async()=>!r&&!s||km(u)?u:Rm({address:r,data:s,signature:u}))();try{const y=a?{to:a,data:ze({abi:va,functionName:"isValidSig",args:[n,o,f]}),...c}:{data:fi({abi:va,args:[n,o,f],bytecode:T0}),...c},{data:p}=await q(e,zn,"call")(y);return ql(p??"0x0")}catch(y){try{if(Ps(un(n),await ru({hash:o,signature:i})))return!0}catch{}if(y instanceof Gu)return!1;throw y}}async function Sb(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Lf(n);return zi(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function Ab(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,l=Pm({message:i,primaryType:a,types:c,domain:u});return zi(e,{address:n,factory:r,factoryData:s,hash:l,signature:o,...f})}function $b(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:l=e.pollingInterval,strict:d}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const m=d??!1,v=re(["watchContractEvent",r,s,o,e.uid,i,l,m,a]);return Ct(v,{onLogs:u,onError:c},E=>{let x;a!==void 0&&(x=a-1n);let P,b=!1;const S=Rr(async()=>{var I;if(!b){try{P=await q(e,yf,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:m,fromBlock:a})}catch{}b=!0;return}try{let $;if(P)$=await q(e,Is,"getFilterChanges")({filter:P});else{const w=await q(e,kr,"getBlockNumber")({});x&&x<w?$=await q(e,gf,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:x+1n,toBlock:w,strict:m}):$=[],x=w}if($.length===0)return;if(o)E.onLogs($);else for(const w of $)E.onLogs([w])}catch($){P&&$ instanceof Wt&&(b=!1),(I=E.onError)==null||I.call(E,$)}},{emitOnBegin:!0,interval:l});return async()=>{P&&await q(e,$s,"uninstallFilter")({filter:P}),S()}})})():(()=>{const m=d??!1,v=re(["watchContractEvent",r,s,o,e.uid,i,l,m]);let E=!0,x=()=>E=!1;return Ct(v,{onLogs:u,onError:c},P=>((async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),S=i?Tr({abi:n,eventName:i,args:s}):[],{unsubscribe:I}=await b.subscribe({params:["logs",{address:r,topics:S}],onData($){var C;if(!E)return;const w=$.result;try{const{eventName:A,args:B}=Oi({abi:n,data:w.data,topics:w.topics,strict:d}),O=at(w,{args:B,eventName:A});P.onLogs([O])}catch(A){let B,O;if(A instanceof Yn||A instanceof ls){if(d)return;B=A.abiItem.name,O=(C=A.abiItem.inputs)==null?void 0:C.some(F=>!("name"in F&&F.name))}const R=at(w,{args:O?[]:{},eventName:B});P.onLogs([R])}},onError($){var w;(w=P.onError)==null||w.call(P,$)}});x=I,E||x()}catch(b){c==null||c(b)}})(),()=>x()))})()}async function Cb(e,t){const{abi:n,account:r=e.account,address:s,args:o,dataSuffix:i,functionName:a,...c}=t;if(typeof r>"u")throw new li({docsPath:"/docs/contract/writeContract"});const u=r?he(r):null,f=ze({abi:n,args:o,functionName:a});try{return await q(e,zh,"sendTransaction")({data:`${f}${i?i.replace("0x",""):""}`,to:s,account:u,...c})}catch(l){throw Zt(l,{abi:n,address:s,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:u==null?void 0:u.address})}}function Fe(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const Kr="2.19.0",Bb=()=>`@wagmi/core@${Kr}`;var cl=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},os,ul;let ft=class zo extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Bb()}constructor(t,n={}){var o;super(),os.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof zo?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof zo&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return cl(this,os,"m",ul).call(this,this,t)}};os=new WeakSet,ul=function e(t,n){return n!=null&&n(t)?t:t.cause?cl(this,os,"m",e).call(this,t.cause,n):t};class is extends ft{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Ob extends ft{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Tb extends ft{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class kb extends ft{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Rb extends ft{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Fb extends ft{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Mb(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new Ob;try{e.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=t,i=await n.connect(o),a=i.accounts;return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:i.chainId}}catch(s){throw e.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const Lo=256;let Lr=Lo,Ur;function fl(e=11){if(!Ur||Lr+e>Lo*2){Ur="",Lr=0;for(let t=0;t<Lo;t++)Ur+=(256+Math.random()*256|0).toString(16).substring(1)}return Ur.substring(Lr,Lr+++e)}function ll(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,l=e.cacheTime??f,d=e.account?he(e.account):void 0,{config:h,request:y,value:p}=e.transport({chain:n,pollingInterval:f}),m={...h,...p},v={account:d,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:y,transport:m,type:i,uid:fl(),...a?{experimental_blockTag:a}:{}};function E(x){return P=>{const b=P(x);for(const I in v)delete b[I];const S={...x,...b};return Object.assign(S,{extend:E(S)})}}return Object.assign(v,{extend:E(v)})}function Li({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=fl();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:fm(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function Nb(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Li({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}function Vw(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:o=_b,retryCount:i,retryDelay:a}=t;return({chain:c,pollingInterval:u=4e3,timeout:f,...l})=>{let d=e,h=()=>{};const y=Li({key:n,name:r,async request({method:p,params:m}){let v;const E=async(x=0)=>{const P=d[x]({...l,chain:c,retryCount:0,timeout:f});try{const b=await P.request({method:p,params:m});return h({method:p,params:m,response:b,transport:P,status:"success"}),b}catch(b){if(h({error:b,method:p,params:m,transport:P,status:"error"}),o(b)||x===d.length-1||(v??(v=d.slice(x+1).some(S=>{const{include:I,exclude:$}=S({chain:c}).config.methods||{};return I?I.includes(p):$?!$.includes(p):!0})),!v))throw b;return E(x+1)}};return E()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:d.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};jb({chain:c,interval:p.interval??u,onTransports:m=>d=m,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:d,weights:p.weights})}return y}}function _b(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===On.code||e.code===ae.code||kt.nodeMessage.test(e.message)||e.code===5e3))}function jb({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:o=1e3,transports:i,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],l=async()=>{const d=await Promise.all(i.map(async p=>{const m=p({chain:e,retryCount:0,timeout:o}),v=Date.now();let E,x;try{await(r?r({transport:m}):m.request({method:"net_listening"})),x=1}catch{x=0}finally{E=Date.now()}return{latency:E-v,success:x}}));f.push(d),f.length>s&&f.shift();const h=Math.max(...f.map(p=>Math.max(...p.map(({latency:m})=>m)))),y=i.map((p,m)=>{const v=f.map(S=>S[m].latency),x=1-v.reduce((S,I)=>S+I,0)/v.length/h,P=f.map(S=>S[m].success),b=P.reduce((S,I)=>S+I,0)/P.length;return b===0?[0,m]:[u*x+c*b,m]}).sort((p,m)=>m[0]-p[0]);n(y.map(([,p])=>i[p])),await ts(t),l()};l()}class zb extends T{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Ww(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:o,name:i="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:f}=t;return({chain:l,retryCount:d,timeout:h})=>{const{batchSize:y=1e3,wait:p=0}=typeof n=="object"?n:{},m=t.retryCount??d,v=h??t.timeout??1e4,E=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!E)throw new zb;const x=wm(E,{fetchOptions:r,onRequest:a,onResponse:c,timeout:v});return Li({key:s,methods:o,name:i,async request({method:P,params:b}){const S={method:P,params:b},{schedule:I}=cf({id:E,wait:p,shouldSplitBatch(A){return A.length>y},fn:A=>x.request({body:A}),sort:(A,B)=>A.id-B.id}),$=async A=>n?I(A):[await x.request({body:A})],[{error:w,result:C}]=await $(S);if(f)return{error:w,result:C};if(w)throw new pi({body:S,error:w,url:E});return C},retryCount:m,retryDelay:u,timeout:v,type:"http"},{fetchOptions:r,url:E})}}function Lb(e){var l,d,h;const{scheme:t,statement:n,...r}=((l=e.match(Ub))==null?void 0:l.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((d=e.match(qb))==null?void 0:d.groups)??{},f=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Ub=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,qb=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Db(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!Ce(r.address,{strict:!1})||t&&!Ps(r.address,t))return!1}catch{return!1}return!0}async function Hb(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=Lb(s);if(!f.address||!Db({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const d=Lf(s);return zi(e,{address:f.address,hash:d,signature:a,...u})}function Gb(e){return{call:t=>zn(e,t),createAccessList:t=>pf(e,t),createBlockFilter:()=>J0(e),createContractEventFilter:t=>yf(e,t),createEventFilter:t=>mf(e,t),createPendingTransactionFilter:()=>bf(e),estimateContractGas:t=>X0(e,t),estimateGas:t=>vi(e,t),getBalance:t=>wi(e,t),getBlobBaseFee:()=>ey(e),getBlock:t=>Ge(e,t),getBlockNumber:t=>kr(e,t),getBlockTransactionCount:t=>iy(e,t),getBytecode:t=>Na(e,t),getChainId:()=>yi(e),getCode:t=>Na(e,t),getContractEvents:t=>gf(e,t),getEip712Domain:t=>fy(e,t),getEnsAddress:t=>_0(e,t),getEnsAvatar:t=>df(e,t),getEnsName:t=>hf(e,t),getEnsResolver:t=>Z0(e,t),getEnsText:t=>lf(e,t),getFeeHistory:t=>hy(e,t),estimateFeesPerGas:t=>bh(e,t),getFilterChanges:t=>Is(e,t),getFilterLogs:t=>py(e,t),getGasPrice:()=>bi(e),getLogs:t=>ki(e,t),getProof:t=>qm(e,t),estimateMaxPriorityFeePerGas:t=>mh(e,t),getStorageAt:t=>yy(e,t),getTransaction:t=>Ss(e,t),getTransactionConfirmations:t=>my(e,t),getTransactionCount:t=>mu(e,t),getTransactionReceipt:t=>Wr(e,t),multicall:t=>wf(e,t),prepareTransactionRequest:t=>Ei(e,t),readContract:t=>Qe(e,t),sendRawTransaction:t=>Pu(e,t),simulate:t=>Oo(e,t),simulateBlocks:t=>Oo(e,t),simulateCalls:t=>Mm(e,t),simulateContract:t=>Hf(e,t),verifyMessage:t=>Sb(e,t),verifySiweMessage:t=>Hb(e,t),verifyTypedData:t=>Ab(e,t),uninstallFilter:t=>$s(e,t),waitForTransactionReceipt:t=>Df(e,t),watchBlocks:t=>_m(e,t),watchBlockNumber:t=>qf(e,t),watchContractEvent:t=>$b(e,t),watchEvent:t=>jm(e,t),watchPendingTransactions:t=>zm(e,t)}}async function Ui(e,t={}){let n;if(t.connector){const{connector:u}=t;if(e.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new Fb({connector:u});const[f,l]=await Promise.all([u.getAccounts().catch(d=>{if(t.account===null)return[];throw d}),u.getChainId()]);n={accounts:f,chainId:l,connector:u}}else n=e.state.connections.get(e.state.current);if(!n)throw new Tb;const r=t.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new Rb({connectionChainId:n.chainId,connectorChainId:s});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const i=he(t.account??n.accounts[0]);if(i&&(i.address=un(i.address)),t.account&&!n.accounts.some(u=>u.toLowerCase()===i.address.toLowerCase()))throw new kb({address:i.address,connector:o});const a=e.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return ll({account:i,chain:a,name:"Connector Client",transport:u=>Nb(c)({...u,retryCount:0})})}async function Vb(e,t={}){var s,o;let n;if(t.connector)n=t.connector;else{const{connections:i,current:a}=e.state,c=i.get(a);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...i,connections:new Map(r),current:a.connector.uid}});{const i=e.state.current;if(!i)return;const a=(s=e.state.connections.get(i))==null?void 0:s.connector;if(!a)return;await((o=e.storage)==null?void 0:o.setItem("recentConnectorId",a.id))}}function dl(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(th[e])}function hl(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],o=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function Wb(e,t){const{allowFailure:n=!0,chainId:r,contracts:s,...o}=t,i=e.getClient({chainId:r});return Fe(i,wf,"multicall")({allowFailure:n,contracts:s,...o})}function Kb(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return Fe(s,Qe,"readContract")(r)}async function Qb(e,t){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...o}=t,i=t.contracts;try{const c={};for(const[d,h]of i.entries()){const y=h.chainId??e.state.chainId;c[y]||(c[y]=[]),(a=c[y])==null||a.push({contract:h,index:d})}const u=()=>Object.entries(c).map(([d,h])=>Wb(e,{...o,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(d),contracts:h.map(({contract:y})=>y)})),f=(await Promise.all(u())).flat(),l=Object.values(c).flatMap(d=>d.map(({index:h})=>h));return f.reduce((d,h,y)=>(d&&(d[l[y]]=h),d),[])}catch(c){if(c instanceof Vu)throw c;const u=()=>i.map(f=>Kb(e,{...f,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(u())).map(f=>f.status==="fulfilled"?{result:f.value,status:"success"}:{error:f.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function Zb(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:o,token:i,unit:a="ether"}=t;if(i)try{return await Ya(e,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:i})}catch(d){if(d.name==="ContractFunctionExecutionError"){const h=await Ya(e,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:i}),y=Nc(rt(h.symbol,{dir:"right"}));return{...h,symbol:y}}throw d}const c=e.getClient({chainId:o}),f=await Fe(c,wi,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),l=e.chains.find(d=>d.id===o)??c.chain;return{decimals:l.nativeCurrency.decimals,formatted:ys(f,dl(a)),symbol:l.nativeCurrency.symbol,value:f}}async function Ya(e,t){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:o,unit:i}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:o},[c,u,f]=await Qb(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),l=ys(c??"0",dl(i??u));return{decimals:u,formatted:l,symbol:f,value:c}}function Xa(e){return e.state.chainId}function Bt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Bt(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(o&&!Bt(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}let Ys=[];function ec(e){const t=e.chains;return Bt(Ys,t)?Ys:(Ys=t,t)}function Jb(e,t={}){try{return e.getClient(t)}catch{return}}let qr=[];function Uo(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Bt(qr,t)?qr:(qr=t,t)}let Xs=[];function tc(e){const t=e.connectors;return Bt(Xs,t)?Xs:(Xs=t,t)}function Yb(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return Fe(s,df,"getEnsAvatar")(r)}function Xb(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return Fe(s,hf,"getEnsName")(r)}function qo(e,t={}){const n=Jb(e,t);return n==null?void 0:n.extend(Gb)}let eo=!1;async function eg(e,t={}){var u,f;if(eo)return[];eo=!0,e.setState(l=>({...l,status:l.current?"reconnecting":"connecting"}));const n=[];if((u=t.connectors)!=null&&u.length)for(const l of t.connectors){let d;typeof l=="function"?d=e._internal.connectors.setup(l):d=l,n.push(d)}else n.push(...e.connectors);let r;try{r=await((f=e.storage)==null?void 0:f.getItem("recentConnectorId"))}catch{}const s={};for(const[,l]of e.state.connections)s[l.connector.id]=1;r&&(s[r]=0);const o=Object.keys(s).length>0?[...n].sort((l,d)=>(s[l.id]??10)-(s[d.id]??10)):n;let i=!1;const a=[],c=[];for(const l of o){const d=await l.getProvider().catch(()=>{});if(!d||c.some(p=>p===d)||!await l.isAuthorized())continue;const y=await l.connect({isReconnecting:!0}).catch(()=>null);y&&(l.emitter.off("connect",e._internal.events.connect),l.emitter.on("change",e._internal.events.change),l.emitter.on("disconnect",e._internal.events.disconnect),e.setState(p=>{const m=new Map(i?p.connections:new Map).set(l.uid,{accounts:y.accounts,chainId:y.chainId,connector:l});return{...p,current:i?p.current:l.uid,connections:m}}),a.push({accounts:y.accounts,chainId:y.chainId,connector:l}),c.push(d),i=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(i?e.setState(l=>({...l,status:"connected"})):e.setState(l=>({...l,connections:new Map,current:null,status:"disconnected"}))),eo=!1,a}async function tg(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await Ui(e,{account:n,connector:r}),Fe(o,Dm,"signMessage")({...s,...n?{account:n}:{}})}async function Kw(e,t){const{abi:n,chainId:r,connector:s,...o}=t;let i;t.account?i=t.account:i=(await Ui(e,{chainId:r,connector:s})).account;const a=e.getClient({chainId:r}),c=Fe(a,Hf,"simulateContract"),{result:u,request:f}=await c({...o,abi:n,account:i});return{chainId:a.chain.id,result:u,request:{...f,chainId:r}}}class cn extends ft{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class ng extends ft{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function rg(e,t){var i;const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(((i=t.connector)==null?void 0:i.uid)??e.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new ng({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const o=e.chains.find(a=>a.id===r);if(!o)throw new is;return e.setState(a=>({...a,chainId:r})),o}async function Qw(e,t){const{chainId:n,timeout:r=0,...s}=t,o=e.getClient({chainId:n}),a=await Fe(o,Df,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const u=await Fe(o,Ss,"getTransaction")({hash:a.transactionHash}),l=await Fe(o,zn,"call")({...u,data:u.input,gasPrice:u.type!=="eip1559"?u.gasPrice:void 0,maxFeePerGas:u.type==="eip1559"?u.maxFeePerGas:void 0,maxPriorityFeePerGas:u.type==="eip1559"?u.maxPriorityFeePerGas:void 0}),d=l!=null&&l.data?Nc(`0x${l.data.substring(138)}`):"unknown reason";throw new Error(d)}return{...a,chainId:o.chain.id}}function pl(e,t){const{onChange:n}=t;return e.subscribe(()=>hl(e),n,{equalityFn(r,s){const{connector:o,...i}=r,{connector:a,...c}=s;return Bt(i,c)&&(o==null?void 0:o.id)===(a==null?void 0:a.id)&&(o==null?void 0:o.uid)===(a==null?void 0:a.uid)}})}function sg(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function og(e,t){const{onChange:n}=t;return e.subscribe(()=>Uo(e),n,{equalityFn:Bt})}function ig(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function ag(e,t){const{onChange:n}=t;return e.subscribe(()=>qo(e),n,{equalityFn(r,s){return(r==null?void 0:r.uid)===(s==null?void 0:s.uid)}})}async function Zw(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?i=e.getClient({chainId:r}):i=await Ui(e,{account:n??void 0,chainId:r,connector:s}),await Fe(i,Cb,"writeContract")({...o,...n?{account:n}:{},chain:r?{id:r}:null})}qi.type="injected";function qi(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...cg[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:qi.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f}={}){var h,y,p,m,v,E;const l=await this.getProvider();if(!l)throw new cn;let d=[];if(f)d=await this.getAccounts().catch(()=>[]);else if(t)try{d=(m=(p=(y=(h=(await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:h.caveats)==null?void 0:y[0])==null?void 0:p.value)==null?void 0:m.map(P=>un(P)),d.length>0&&(d=await this.getAccounts())}catch(x){const P=x;if(P.code===ae.code)throw new ae(P);if(P.code===St.code)throw P}try{!(d!=null&&d.length)&&!f&&(d=(await l.request({method:"eth_requestAccounts"})).map(b=>un(b))),i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a));let x=await this.getChainId();if(u&&x!==u){const P=await this.switchChain({chainId:u}).catch(b=>{if(b.code===ae.code)throw b;return{id:x}});x=(P==null?void 0:P.id)??x}return t&&await((v=c.storage)==null?void 0:v.removeItem(`${this.id}.disconnected`)),e.target||await((E=c.storage)==null?void 0:E.setItem("injected.connected",!0)),{accounts:d,chainId:x}}catch(x){const P=x;throw P.code===ae.code?new ae(P):P.code===St.code?new St(P):P}},async disconnect(){var f,l;const u=await this.getProvider();if(!u)throw new cn;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await Mf(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((f=c.storage)==null?void 0:f.setItem(`${this.id}.disconnected`,!0)),e.target||await((l=c.storage)==null?void 0:l.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new cn;return(await u.request({method:"eth_accounts"})).map(l=>un(l))},async getChainId(){const u=await this.getProvider();if(!u)throw new cn;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=Qr(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,f;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((f=c.storage)==null?void 0:f.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const y=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",y),!!await this.getProvider()),p=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(y()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(y()),p))]))return!0}throw new cn}return!!(await ns(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){var y,p,m,v;const l=await this.getProvider();if(!l)throw new cn;const d=c.chains.find(E=>E.id===f);if(!d)throw new Kt(new is);const h=new Promise(E=>{const x=P=>{"chainId"in P&&P.chainId===f&&(c.emitter.off("change",x),E())};c.emitter.on("change",x)});try{return await Promise.all([l.request({method:"wallet_switchEthereumChain",params:[{chainId:U(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),d}catch(E){const x=E;if(x.code===4902||((p=(y=x==null?void 0:x.data)==null?void 0:y.originalError)==null?void 0:p.code)===4902)try{const{default:P,...b}=d.blockExplorers??{};let S;u!=null&&u.blockExplorerUrls?S=u.blockExplorerUrls:P&&(S=[P.url,...Object.values(b).map(w=>w.url)]);let I;(m=u==null?void 0:u.rpcUrls)!=null&&m.length?I=u.rpcUrls:I=[((v=d.rpcUrls.default)==null?void 0:v.http[0])??""];const $={blockExplorerUrls:S,chainId:U(f),chainName:(u==null?void 0:u.chainName)??d.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??d.nativeCurrency,rpcUrls:I};return await Promise.all([l.request({method:"wallet_addEthereumChain",params:[$]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new ae(new Error("User rejected switch after adding network."))}),h]),d}catch(P){throw new ae(P)}throw x.code===ae.code?new ae(x):new Kt(x)}},async onAccountsChanged(u){var f;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const l=(await this.getChainId()).toString();this.onConnect({chainId:l}),t&&await((f=c.storage)==null?void 0:f.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(l=>un(l))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const l=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:l});const d=await this.getProvider();d&&(i&&(d.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),d.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(o&&(f.removeListener("chainChanged",o),o=void 0),a&&(f.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),f.on("connect",i))))}})}const cg={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:Qr(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Qr(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:Qr(e,"isPhantom")}}};function Qr(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function ug(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function fg(){const e=new Set;let t=[];const n=()=>ug(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const lg=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const f=(c==null?void 0:c.equalityFn)||Object.is;let l=i(r.getState());u=d=>{const h=i(d);if(!f(l,h)){const y=l;a(l=h,y)}},c!=null&&c.fireImmediately&&a(l,l)}return s(u)},e(t,n,r)},dg=lg;function hg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const Do=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Do(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Do(r)(n)}}}},pg=(e,t)=>(n,r,s)=>{let o={storage:hg(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...p)=>{n(...p)},r,s);const f=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},l=s.setState;s.setState=(p,m)=>{l(p,m),f()};const d=e((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>d;let h;const y=()=>{var p,m;if(!u)return;i=!1,a.forEach(E=>{var x;return E((x=r())!=null?x:d)});const v=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(p=r())!=null?p:d))||void 0;return Do(u.getItem.bind(u))(o.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==o.version){if(o.migrate)return[!0,o.migrate(E.state,E.version)]}else return[!1,E.state];return[!1,void 0]}).then(E=>{var x;const[P,b]=E;if(h=o.merge(b,(x=r())!=null?x:d),n(h,!0),P)return f()}).then(()=>{v==null||v(h,void 0),h=r(),i=!0,c.forEach(E=>E(h))}).catch(E=>{v==null||v(void 0,E)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||y(),h||d},yg=pg,nc=e=>{let t;const n=new Set,r=(u,f)=>{const l=typeof u=="function"?u(t):u;if(!Object.is(l,t)){const d=t;t=f??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(h=>h(t,d))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},to=e=>e?nc(e):nc;var no={exports:{}},rc;function mg(){return rc||(rc=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,l,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,l||c,d),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],h]:c._events[y].push(h):(c._events[y]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,l;if(this._eventsCount===0)return u;for(l in f=this._events)t.call(f,l)&&u.push(n?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var d=0,h=l.length,y=new Array(h);d<h;d++)y[d]=l[d].fn;return y},a.prototype.listenerCount=function(u){var f=n?n+u:u,l=this._events[f];return l?l.fn?1:l.length:0},a.prototype.emit=function(u,f,l,d,h,y){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],v=arguments.length,E,x;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,l),!0;case 4:return m.fn.call(m.context,f,l,d),!0;case 5:return m.fn.call(m.context,f,l,d,h),!0;case 6:return m.fn.call(m.context,f,l,d,h,y),!0}for(x=1,E=new Array(v-1);x<v;x++)E[x-1]=arguments[x];m.fn.apply(m.context,E)}else{var P=m.length,b;for(x=0;x<P;x++)switch(m[x].once&&this.removeListener(u,m[x].fn,void 0,!0),v){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,f);break;case 3:m[x].fn.call(m[x].context,f,l);break;case 4:m[x].fn.call(m[x].context,f,l,d);break;default:if(!E)for(b=1,E=new Array(v-1);b<v;b++)E[b-1]=arguments[b];m[x].fn.apply(m[x].context,E)}}return!0},a.prototype.on=function(u,f,l){return o(this,u,f,l,!1)},a.prototype.once=function(u,f,l){return o(this,u,f,l,!0)},a.prototype.removeListener=function(u,f,l,d){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return i(this,h),this;var y=this._events[h];if(y.fn)y.fn===f&&(!d||y.once)&&(!l||y.context===l)&&i(this,h);else{for(var p=0,m=[],v=y.length;p<v;p++)(y[p].fn!==f||d&&!y[p].once||l&&y[p].context!==l)&&m.push(y[p]);m.length?this._events[h]=m.length===1?m[0]:m:i(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&i(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(no)),no.exports}var bg=mg();const gg=Oc(bg);class wg{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new gg})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function vg(e){return new wg(e)}function xg(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function sc(e,t){return e.slice(0,t).join(".")||"."}function oc(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function Eg(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=oc(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const f=oc(s,c);if(f!==0)return r?t.call(this,a,c,sc(o,f)):`[ref=${sc(o,f)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function Pg(e,t,n,r){return JSON.stringify(e,Eg((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),(t==null?void 0:t(s,i))??i},r),n??void 0)}function Ig(e){const{deserialize:t=xg,key:n="wagmi",serialize:r=Pg,storage:s=yl}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const yl={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Sg(){const e=typeof window<"u"&&window.localStorage?window.localStorage:yl;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const Ho=256;let Dr=Ho,Hr;function Ag(e=11){if(!Hr||Dr+e>Ho*2){Hr="",Dr=0;for(let t=0;t<Ho;t++)Hr+=(256+Math.random()*256|0).toString(16).substring(1)}return Hr.substring(Dr,Dr+++e)}function Jw(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=Ig({storage:Sg()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?fg():void 0,a=to(()=>o.chains),c=to(()=>{const b=[],S=new Set;for(const I of o.connectors??[]){const $=u(I);if(b.push($),!s&&$.rdns){const w=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const C of w)S.add(C)}}if(!s&&i){const I=i.getProviders();for(const $ of I)S.has($.info.rdns)||b.push(u(f($)))}return b});function u(b){var $;const S=vg(Ag()),I={...b({emitter:S,chains:a.getState(),storage:n,transports:o.transports}),emitter:S,uid:S.uid};return S.on("connect",x),($=I.setup)==null||$.call(I),I}function f(b){const{info:S}=b,I=b.provider;return qi({target:{...S,id:S.rdns,provider:I}})}const l=new Map;function d(b={}){const S=b.chainId??m.getState().chainId,I=a.getState().find(w=>w.id===S);if(b.chainId&&!I)throw new is;{const w=l.get(m.getState().chainId);if(w&&!I)return w;if(!I)throw new is}{const w=l.get(S);if(w)return w}let $;if(o.client)$=o.client({chain:I});else{const w=I.id,C=a.getState().map(O=>O.id),A={},B=Object.entries(o);for(const[O,R]of B)if(!(O==="chains"||O==="client"||O==="connectors"||O==="transports"))if(typeof R=="object")if(w in R)A[O]=R[w];else{if(C.some(N=>N in R))continue;A[O]=R}else A[O]=R;$=ll({...A,chain:I,batch:A.batch??{multicall:!0},transport:O=>o.transports[w]({...O,connectors:c})})}return l.set(S,$),$}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let y;const p="0.0.0-canary-";Kr.startsWith(p)?y=Number.parseInt(Kr.replace(p,"")):y=Number.parseInt(Kr.split(".")[0]??"0");const m=to(dg(n?yg(h,{migrate(b,S){if(S===y)return b;const I=h(),$=v(b,I.chainId);return{...I,chainId:$}},name:"store",partialize(b){return{connections:{__type:"Map",value:Array.from(b.connections.entries()).map(([S,I])=>{const{id:$,name:w,type:C,uid:A}=I.connector;return[S,{...I,connector:{id:$,name:w,type:C,uid:A}}]})},chainId:b.chainId,current:b.current}},merge(b,S){typeof b=="object"&&b&&"status"in b&&delete b.status;const I=v(b,S.chainId);return{...S,...b,chainId:I}},skipHydration:s,storage:n,version:y}):h));m.setState(h());function v(b,S){return b&&typeof b=="object"&&"chainId"in b&&typeof b.chainId=="number"&&a.getState().some(I=>I.id===b.chainId)?b.chainId:S}r&&m.subscribe(({connections:b,current:S})=>{var I;return S?(I=b.get(S))==null?void 0:I.chainId:void 0},b=>{if(a.getState().some(I=>I.id===b))return m.setState(I=>({...I,chainId:b??I.chainId}))}),i==null||i.subscribe(b=>{const S=new Set,I=new Set;for(const w of c.getState())if(S.add(w.id),w.rdns){const C=typeof w.rdns=="string"?[w.rdns]:w.rdns;for(const A of C)I.add(A)}const $=[];for(const w of b){if(I.has(w.info.rdns))continue;const C=u(f(w));S.has(C.id)||$.push(C)}n&&!m.persist.hasHydrated()||c.setState(w=>[...w,...$],!0)});function E(b){m.setState(S=>{const I=S.connections.get(b.uid);return I?{...S,connections:new Map(S.connections).set(b.uid,{accounts:b.accounts??I.accounts,chainId:b.chainId??I.chainId,connector:I.connector})}:S})}function x(b){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(S=>{const I=c.getState().find($=>$.uid===b.uid);return I?(I.emitter.listenerCount("connect")&&I.emitter.off("connect",E),I.emitter.listenerCount("change")||I.emitter.on("change",E),I.emitter.listenerCount("disconnect")||I.emitter.on("disconnect",P),{...S,connections:new Map(S.connections).set(b.uid,{accounts:b.accounts,chainId:b.chainId,connector:I}),current:b.uid,status:"connected"}):S})}function P(b){m.setState(S=>{const I=S.connections.get(b.uid);if(I){const w=I.connector;w.emitter.listenerCount("change")&&I.connector.emitter.off("change",E),w.emitter.listenerCount("disconnect")&&I.connector.emitter.off("disconnect",P),w.emitter.listenerCount("connect")||I.connector.emitter.on("connect",x)}if(S.connections.delete(b.uid),S.connections.size===0)return{...S,connections:new Map,current:null,status:"disconnected"};const $=S.connections.values().next().value;return{...S,connections:new Map(S.connections),current:$.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:d,get state(){return m.getState()},setState(b){let S;typeof b=="function"?S=b(m.getState()):S=b;const I=h();typeof S!="object"&&(S=I),Object.keys(I).some(w=>!(w in S))&&(S=I),m.setState(S,!0)},subscribe(b,S,I){return m.subscribe(b,S,I?{...I,fireImmediately:I.emitImmediately}:void 0)},_internal:{mipd:i,store:m,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(b){const S=typeof b=="function"?b(a.getState()):b;if(S.length!==0)return a.setState(S,!0)},subscribe(b){return a.subscribe(b)}},connectors:{providerDetailToConnector:f,setup:u,setState(b){return c.setState(typeof b=="function"?b(c.getState()):b,!0)},subscribe(b){return c.subscribe(b)}},events:{change:E,connect:x,disconnect:P}}}}function $g(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{var c;const o=new Set;for(const u of s??[])if(u.rdns){const f=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const l of f)o.add(l)}const i=[],a=((c=e._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of a){if(o.has(u.info.rdns))continue;const f=e._internal.connectors.providerDetailToConnector(u),l=e._internal.connectors.setup(f);i.push(l)}return[...s,...i]})),r?eg(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function Cg(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:o}=$g(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||o();const i=V.useRef(!0);return V.useEffect(()=>{if(i.current&&n._internal.ssr)return o(),()=>{i.current=!1}},[]),t}const ml=V.createContext(void 0);function Yw(e){const{children:t,config:n}=e,r={value:n};return V.createElement(Cg,e,V.createElement(ml.Provider,r,t))}const Bg="2.16.3",Og=()=>`wagmi@${Bg}`;class Tg extends ft{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Og()}}class kg extends Tg{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function we(e={}){const t=e.config??V.useContext(ml);if(!t)throw new kg;return t}function Rg(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var ro={exports:{}},so={},oo={exports:{}},io={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic;function Fg(){if(ic)return io;ic=1;var e=us();function t(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(l,d){var h=d(),y=r({inst:{value:h,getSnapshot:d}}),p=y[0].inst,m=y[1];return o(function(){p.value=h,p.getSnapshot=d,c(p)&&m({inst:p})},[l,h,d]),s(function(){return c(p)&&m({inst:p}),l(function(){c(p)&&m({inst:p})})},[l]),i(h),h}function c(l){var d=l.getSnapshot;l=l.value;try{var h=d();return!n(l,h)}catch{return!0}}function u(l,d){return d()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return io.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,io}var ac;function Mg(){return ac||(ac=1,oo.exports=Fg()),oo.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc;function Ng(){if(cc)return so;cc=1;var e=us(),t=Mg();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,c=e.useDebugValue;return so.useSyncExternalStoreWithSelector=function(u,f,l,d,h){var y=o(null);if(y.current===null){var p={hasValue:!1,value:null};y.current=p}else p=y.current;y=a(function(){function v(S){if(!E){if(E=!0,x=S,S=d(S),h!==void 0&&p.hasValue){var I=p.value;if(h(I,S))return P=I}return P=S}if(I=P,r(x,S))return I;var $=d(S);return h!==void 0&&h(I,$)?(x=S,I):(x=S,P=$)}var E=!1,x,P,b=l===void 0?null:l;return[function(){return v(f())},b===null?void 0:function(){return v(b())}]},[f,l,d,h]);var m=s(u,y[0],y[1]);return i(function(){p.hasValue=!0,p.value=m},[m]),c(m),m},so}var uc;function _g(){return uc||(uc=1,ro.exports=Ng()),ro.exports}var bl=_g();const ao=e=>typeof e=="object"&&!Array.isArray(e);function jg(e,t,n=t,r=Bt){const s=V.useRef([]),o=bl.useSyncExternalStoreWithSelector(e,t,n,i=>i,(i,a)=>{if(ao(i)&&ao(a)&&s.current.length){for(const c of s.current)if(!r(i[c],a[c]))return!1;return!0}return r(i,a)});return V.useMemo(()=>{if(ao(o)){const i={...o};let a={};for(const[c,u]of Object.entries(i))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(i,a),i}return o},[o])}function Xw(e={}){const t=we(e);return jg(n=>pl(t,{onChange:n}),()=>hl(t))}function e1(e={}){const{onConnect:t,onDisconnect:n}=e,r=we(e);V.useEffect(()=>pl(r,{onChange(s,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&s.status==="connected"){const{address:i,addresses:a,chain:c,chainId:u,connector:f}=s,l=o.status==="reconnecting"||o.status===void 0;t==null||t({address:i,addresses:a,chain:c,chainId:u,connector:f,isReconnected:l})}else o.status==="connected"&&s.status==="disconnected"&&(n==null||n())}}),[r,t,n])}function zg(e){return JSON.stringify(e,(t,n)=>Lg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function Lg(e){if(!fc(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!fc(n)||!n.hasOwnProperty("isPrototypeOf"))}function fc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Di(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:o,maxPages:i,meta:a,networkMode:c,queryFn:u,queryHash:f,queryKey:l,queryKeyHashFn:d,retry:h,retryDelay:y,structuralSharing:p,getPreviousPageParam:m,getNextPageParam:v,initialPageParam:E,_optimisticResults:x,enabled:P,notifyOnChangeProps:b,placeholderData:S,refetchInterval:I,refetchIntervalInBackground:$,refetchOnMount:w,refetchOnReconnect:C,refetchOnWindowFocus:A,retryOnMount:B,select:O,staleTime:R,suspense:F,throwOnError:N,config:_,connector:k,query:z,...D}=e;return D}function Ug(e){return{mutationFn(t){return Mb(e,t)},mutationKey:["connect"]}}function qg(e){return{mutationFn(t){return Vb(e,t)},mutationKey:["disconnect"]}}function Dg(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...o}=n[1];if(!r)throw new Error("address is required");return await Zb(e,{...o,address:r})??null},queryKey:Hg(t)}}function Hg(e={}){return["balance",Di(e)]}function Gg(e,t={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:s,...o}=n[1];if(!r)throw new Error("name is required");return Yb(e,{...o,name:r})},queryKey:Vg(t)}}function Vg(e={}){return["ensAvatar",Di(e)]}function Wg(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...o}=n[1];if(!r)throw new Error("address is required");return Xb(e,{...o,address:r})},queryKey:Kg(t)}}function Kg(e={}){return["ensName",Di(e)]}function Qg(e){return{mutationFn(t){return tg(e,t)},mutationKey:["signMessage"]}}function Zg(e){return{mutationFn(t){return rg(e,t)},mutationKey:["switchChain"]}}var Ln=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xt=typeof window>"u"||"Deno"in globalThis;function fe(){}function Jg(e,t){return typeof e=="function"?e(t):e}function Go(e){return typeof e=="number"&&e>=0&&e!==1/0}function gl(e,t){return Math.max(e+(t||0)-Date.now(),0)}function At(e,t){return typeof e=="function"?e(t):e}function Ae(e,t){return typeof e=="function"?e(t):e}function lc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Hi(i,t.options))return!1}else if(!wr(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function dc(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(en(t.options.mutationKey)!==en(o))return!1}else if(!wr(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Hi(e,t){return((t==null?void 0:t.queryKeyHashFn)||en)(e)}function en(e){return JSON.stringify(e,(t,n)=>Vo(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function wr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>wr(e[n],t[n])):!1}function wl(e,t){if(e===t)return e;const n=hc(e)&&hc(t);if(n||Vo(e)&&Vo(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{},c=new Set(r);let u=0;for(let f=0;f<i;f++){const l=n?f:o[f];(!n&&c.has(l)||n)&&e[l]===void 0&&t[l]===void 0?(a[l]=void 0,u++):(a[l]=wl(e[l],t[l]),a[l]===e[l]&&e[l]!==void 0&&u++)}return s===i&&u===s?e:a}return t}function as(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function hc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vo(e){if(!pc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!pc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yg(e){return new Promise(t=>{setTimeout(t,e)})}function Wo(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?wl(e,t):t}function Xg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ew(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Gi=Symbol();function vl(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gi?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function xl(e,t){return typeof e=="function"?e(...t):!!e}var Nt,pt,dn,vc,tw=(vc=class extends Ln{constructor(){super();j(this,Nt);j(this,pt);j(this,dn);M(this,dn,t=>{if(!Xt&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){g(this,pt)||this.setEventListener(g(this,dn))}onUnsubscribe(){var t;this.hasListeners()||((t=g(this,pt))==null||t.call(this),M(this,pt,void 0))}setEventListener(t){var n;M(this,dn,t),(n=g(this,pt))==null||n.call(this),M(this,pt,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){g(this,Nt)!==t&&(M(this,Nt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof g(this,Nt)=="boolean"?g(this,Nt):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Nt=new WeakMap,pt=new WeakMap,dn=new WeakMap,vc),Vi=new tw,hn,yt,pn,xc,nw=(xc=class extends Ln{constructor(){super();j(this,hn,!0);j(this,yt);j(this,pn);M(this,pn,t=>{if(!Xt&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){g(this,yt)||this.setEventListener(g(this,pn))}onUnsubscribe(){var t;this.hasListeners()||((t=g(this,yt))==null||t.call(this),M(this,yt,void 0))}setEventListener(t){var n;M(this,pn,t),(n=g(this,yt))==null||n.call(this),M(this,yt,t(this.setOnline.bind(this)))}setOnline(t){g(this,hn)!==t&&(M(this,hn,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return g(this,hn)}},hn=new WeakMap,yt=new WeakMap,pn=new WeakMap,xc),cs=new nw;function Ko(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function rw(e){return Math.min(1e3*2**e,3e4)}function El(e){return(e??"online")==="online"?cs.isOnline():!0}var Pl=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Il(e){let t=!1,n=0,r;const s=Ko(),o=()=>s.status!=="pending",i=p=>{var m;o()||(d(new Pl(p)),(m=e.abort)==null||m.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Vi.isFocused()&&(e.networkMode==="always"||cs.isOnline())&&e.canRun(),f=()=>El(e.networkMode)&&e.canRun(),l=p=>{o()||(r==null||r(),s.resolve(p))},d=p=>{o()||(r==null||r(),s.reject(p))},h=()=>new Promise(p=>{var m;r=v=>{(o()||u())&&p(v)},(m=e.onPause)==null||m.call(e)}).then(()=>{var p;r=void 0,o()||(p=e.onContinue)==null||p.call(e)}),y=()=>{if(o())return;let p;const m=n===0?e.initialPromise:void 0;try{p=m??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(l).catch(v=>{var S;if(o())return;const E=e.retry??(Xt?0:3),x=e.retryDelay??rw,P=typeof x=="function"?x(n,v):x,b=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,v);if(t||!b){d(v);return}n++,(S=e.onFail)==null||S.call(e,n,v),Yg(P).then(()=>u()?void 0:h()).then(()=>{t?d(v):y()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?y():h().then(y),s)}}var sw=e=>setTimeout(e,0);function ow(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=sw;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ne=ow(),_t,Ec,Sl=(Ec=class{constructor(){j(this,_t)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Go(this.gcTime)&&M(this,_t,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xt?1/0:5*60*1e3))}clearGcTimeout(){g(this,_t)&&(clearTimeout(g(this,_t)),M(this,_t,void 0))}},_t=new WeakMap,Ec),yn,mn,Ie,jt,oe,vr,zt,Te,Xe,Pc,iw=(Pc=class extends Sl{constructor(t){super();j(this,Te);j(this,yn);j(this,mn);j(this,Ie);j(this,jt);j(this,oe);j(this,vr);j(this,zt);M(this,zt,!1),M(this,vr,t.defaultOptions),this.setOptions(t.options),this.observers=[],M(this,jt,t.client),M(this,Ie,g(this,jt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,M(this,yn,aw(this.options)),this.state=t.state??g(this,yn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=g(this,oe))==null?void 0:t.promise}setOptions(t){this.options={...g(this,vr),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&g(this,Ie).remove(this)}setData(t,n){const r=Wo(this.state.data,t,this.options);return H(this,Te,Xe).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){H(this,Te,Xe).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=g(this,oe))==null?void 0:r.promise;return(s=g(this,oe))==null||s.cancel(t),n?n.then(fe).catch(fe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(g(this,yn))}isActive(){return this.observers.some(t=>Ae(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>At(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!gl(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=g(this,oe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=g(this,oe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),g(this,Ie).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(g(this,oe)&&(g(this,zt)?g(this,oe).cancel({revert:!0}):g(this,oe).cancelRetry()),this.scheduleGc()),g(this,Ie).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||H(this,Te,Xe).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,f,l,d,h,y,p,m,v,E,x;if(this.state.fetchStatus!=="idle"&&((c=g(this,oe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(g(this,oe))return g(this,oe).continueRetry(),g(this,oe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(b=>b.options.queryFn);P&&this.setOptions(P.options)}const r=new AbortController,s=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(M(this,zt,!0),r.signal)})},o=()=>{const P=vl(this.options,n),S=(()=>{const I={client:g(this,jt),queryKey:this.queryKey,meta:this.meta};return s(I),I})();return M(this,zt,!1),this.options.persister?this.options.persister(P,S,this):P(S)},a=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:g(this,jt),state:this.state,fetchFn:o};return s(P),P})();(u=this.options.behavior)==null||u.onFetch(a,this),M(this,mn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&H(this,Te,Xe).call(this,{type:"fetch",meta:(l=a.fetchOptions)==null?void 0:l.meta}),M(this,oe,Il({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onFail:(P,b)=>{H(this,Te,Xe).call(this,{type:"failed",failureCount:P,error:b})},onPause:()=>{H(this,Te,Xe).call(this,{type:"pause"})},onContinue:()=>{H(this,Te,Xe).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const P=await g(this,oe).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(h=(d=g(this,Ie).config).onSuccess)==null||h.call(d,P,this),(p=(y=g(this,Ie).config).onSettled)==null||p.call(y,P,this.state.error,this),P}catch(P){if(P instanceof Pl){if(P.silent)return g(this,oe).promise;if(P.revert)return this.setState({...g(this,mn),fetchStatus:"idle"}),this.state.data}throw H(this,Te,Xe).call(this,{type:"error",error:P}),(v=(m=g(this,Ie).config).onError)==null||v.call(m,P,this),(x=(E=g(this,Ie).config).onSettled)==null||x.call(E,this.state.data,P,this),P}finally{this.scheduleGc()}}},yn=new WeakMap,mn=new WeakMap,Ie=new WeakMap,jt=new WeakMap,oe=new WeakMap,vr=new WeakMap,zt=new WeakMap,Te=new WeakSet,Xe=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Al(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return M(this,mn,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ne.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),g(this,Ie).notify({query:this,type:"updated",action:t})})},Pc);function Al(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:El(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function aw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qe,Ic,cw=(Ic=class extends Ln{constructor(t={}){super();j(this,qe);this.config=t,M(this,qe,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Hi(s,n);let i=this.get(o);return i||(i=new iw({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){g(this,qe).has(t.queryHash)||(g(this,qe).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=g(this,qe).get(t.queryHash);n&&(t.destroy(),n===t&&g(this,qe).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ne.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return g(this,qe).get(t)}getAll(){return[...g(this,qe).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>lc(t,r)):n}notify(t){ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ne.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ne.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qe=new WeakMap,Ic),De,ce,Lt,He,ht,Sc,uw=(Sc=class extends Sl{constructor(t){super();j(this,He);j(this,De);j(this,ce);j(this,Lt);this.mutationId=t.mutationId,M(this,ce,t.mutationCache),M(this,De,[]),this.state=t.state||$l(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){g(this,De).includes(t)||(g(this,De).push(t),this.clearGcTimeout(),g(this,ce).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){M(this,De,g(this,De).filter(n=>n!==t)),this.scheduleGc(),g(this,ce).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){g(this,De).length||(this.state.status==="pending"?this.scheduleGc():g(this,ce).remove(this))}continue(){var t;return((t=g(this,Lt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,c,u,f,l,d,h,y,p,m,v,E,x,P,b,S,I,$;const n=()=>{H(this,He,ht).call(this,{type:"continue"})};M(this,Lt,Il({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(w,C)=>{H(this,He,ht).call(this,{type:"failed",failureCount:w,error:C})},onPause:()=>{H(this,He,ht).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>g(this,ce).canRun(this)}));const r=this.state.status==="pending",s=!g(this,Lt).canStart();try{if(r)n();else{H(this,He,ht).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=g(this,ce).config).onMutate)==null?void 0:i.call(o,t,this));const C=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));C!==this.state.context&&H(this,He,ht).call(this,{type:"pending",context:C,variables:t,isPaused:s})}const w=await g(this,Lt).start();return await((f=(u=g(this,ce).config).onSuccess)==null?void 0:f.call(u,w,t,this.state.context,this)),await((d=(l=this.options).onSuccess)==null?void 0:d.call(l,w,t,this.state.context)),await((y=(h=g(this,ce).config).onSettled)==null?void 0:y.call(h,w,null,this.state.variables,this.state.context,this)),await((m=(p=this.options).onSettled)==null?void 0:m.call(p,w,null,t,this.state.context)),H(this,He,ht).call(this,{type:"success",data:w}),w}catch(w){try{throw await((E=(v=g(this,ce).config).onError)==null?void 0:E.call(v,w,t,this.state.context,this)),await((P=(x=this.options).onError)==null?void 0:P.call(x,w,t,this.state.context)),await((S=(b=g(this,ce).config).onSettled)==null?void 0:S.call(b,void 0,w,this.state.variables,this.state.context,this)),await(($=(I=this.options).onSettled)==null?void 0:$.call(I,void 0,w,t,this.state.context)),w}finally{H(this,He,ht).call(this,{type:"error",error:w})}}finally{g(this,ce).runNext(this)}}},De=new WeakMap,ce=new WeakMap,Lt=new WeakMap,He=new WeakSet,ht=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ne.batch(()=>{g(this,De).forEach(r=>{r.onMutationUpdate(t)}),g(this,ce).notify({mutation:this,type:"updated",action:t})})},Sc);function $l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tt,ke,xr,Ac,fw=(Ac=class extends Ln{constructor(t={}){super();j(this,tt);j(this,ke);j(this,xr);this.config=t,M(this,tt,new Set),M(this,ke,new Map),M(this,xr,0)}build(t,n,r){const s=new uw({mutationCache:this,mutationId:++Fr(this,xr)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){g(this,tt).add(t);const n=Gr(t);if(typeof n=="string"){const r=g(this,ke).get(n);r?r.push(t):g(this,ke).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(g(this,tt).delete(t)){const n=Gr(t);if(typeof n=="string"){const r=g(this,ke).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&g(this,ke).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Gr(t);if(typeof n=="string"){const r=g(this,ke).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Gr(t);if(typeof n=="string"){const s=(r=g(this,ke).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ne.batch(()=>{g(this,tt).forEach(t=>{this.notify({type:"removed",mutation:t})}),g(this,tt).clear(),g(this,ke).clear()})}getAll(){return Array.from(g(this,tt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>dc(n,r))}findAll(t={}){return this.getAll().filter(n=>dc(t,n))}notify(t){ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ne.batch(()=>Promise.all(t.map(n=>n.continue().catch(fe))))}},tt=new WeakMap,ke=new WeakMap,xr=new WeakMap,Ac);function Gr(e){var t;return(t=e.options.scope)==null?void 0:t.id}function yc(e){return{onFetch:(t,n)=>{var f,l,d,h,y;const r=t.options,s=(d=(l=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:l.fetchMore)==null?void 0:d.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=vl(t.options,t.fetchOptions),E=async(x,P,b)=>{if(p)return Promise.reject();if(P==null&&x.pages.length)return Promise.resolve(x);const I=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:P,direction:b?"backward":"forward",meta:t.options.meta};return m(A),A})(),$=await v(I),{maxPages:w}=t.options,C=b?ew:Xg;return{pages:C(x.pages,$,w),pageParams:C(x.pageParams,P,w)}};if(s&&o.length){const x=s==="backward",P=x?lw:mc,b={pages:o,pageParams:i},S=P(r,b);a=await E(b,S,x)}else{const x=e??o.length;do{const P=c===0?i[0]??r.initialPageParam:mc(r,a);if(c>0&&P==null)break;a=await E(a,P),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var p,m;return(m=(p=t.options).persister)==null?void 0:m.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function mc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function lw(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Y,mt,bt,bn,gn,gt,wn,vn,$c,t1=($c=class{constructor(e={}){j(this,Y);j(this,mt);j(this,bt);j(this,bn);j(this,gn);j(this,gt);j(this,wn);j(this,vn);M(this,Y,e.queryCache||new cw),M(this,mt,e.mutationCache||new fw),M(this,bt,e.defaultOptions||{}),M(this,bn,new Map),M(this,gn,new Map),M(this,gt,0)}mount(){Fr(this,gt)._++,g(this,gt)===1&&(M(this,wn,Vi.subscribe(async e=>{e&&(await this.resumePausedMutations(),g(this,Y).onFocus())})),M(this,vn,cs.subscribe(async e=>{e&&(await this.resumePausedMutations(),g(this,Y).onOnline())})))}unmount(){var e,t;Fr(this,gt)._--,g(this,gt)===0&&((e=g(this,wn))==null||e.call(this),M(this,wn,void 0),(t=g(this,vn))==null||t.call(this),M(this,vn,void 0))}isFetching(e){return g(this,Y).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return g(this,mt).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=g(this,Y).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=g(this,Y).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(At(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return g(this,Y).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=g(this,Y).get(r.queryHash),o=s==null?void 0:s.state.data,i=Jg(t,o);if(i!==void 0)return g(this,Y).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ne.batch(()=>g(this,Y).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=g(this,Y).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=g(this,Y);ne.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=g(this,Y);return ne.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ne.batch(()=>g(this,Y).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(fe).catch(fe)}invalidateQueries(e,t={}){return ne.batch(()=>(g(this,Y).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ne.batch(()=>g(this,Y).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(fe)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(fe)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=g(this,Y).build(this,t);return n.isStaleByTime(At(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fe).catch(fe)}fetchInfiniteQuery(e){return e.behavior=yc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fe).catch(fe)}ensureInfiniteQueryData(e){return e.behavior=yc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return cs.isOnline()?g(this,mt).resumePausedMutations():Promise.resolve()}getQueryCache(){return g(this,Y)}getMutationCache(){return g(this,mt)}getDefaultOptions(){return g(this,bt)}setDefaultOptions(e){M(this,bt,e)}setQueryDefaults(e,t){g(this,bn).set(en(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...g(this,bn).values()],n={};return t.forEach(r=>{wr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){g(this,gn).set(en(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...g(this,gn).values()],n={};return t.forEach(r=>{wr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...g(this,bt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hi(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gi&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...g(this,bt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){g(this,Y).clear(),g(this,mt).clear()}},Y=new WeakMap,mt=new WeakMap,bt=new WeakMap,bn=new WeakMap,gn=new WeakMap,gt=new WeakMap,wn=new WeakMap,vn=new WeakMap,$c),pe,G,Er,ue,Ut,xn,wt,vt,Pr,En,Pn,qt,Dt,xt,In,K,Kn,Qo,Zo,Jo,Yo,Xo,ei,ti,Cl,Cc,dw=(Cc=class extends Ln{constructor(t,n){super();j(this,K);j(this,pe);j(this,G);j(this,Er);j(this,ue);j(this,Ut);j(this,xn);j(this,wt);j(this,vt);j(this,Pr);j(this,En);j(this,Pn);j(this,qt);j(this,Dt);j(this,xt);j(this,In,new Set);this.options=n,M(this,pe,t),M(this,vt,null),M(this,wt,Ko()),this.options.experimental_prefetchInRender||g(this,wt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,G).addObserver(this),bc(g(this,G),this.options)?H(this,K,Kn).call(this):this.updateResult(),H(this,K,Yo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ni(g(this,G),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ni(g(this,G),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,H(this,K,Xo).call(this),H(this,K,ei).call(this),g(this,G).removeObserver(this)}setOptions(t){const n=this.options,r=g(this,G);if(this.options=g(this,pe).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ae(this.options.enabled,g(this,G))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");H(this,K,ti).call(this),g(this,G).setOptions(this.options),n._defaulted&&!as(this.options,n)&&g(this,pe).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,G),observer:this});const s=this.hasListeners();s&&gc(g(this,G),r,this.options,n)&&H(this,K,Kn).call(this),this.updateResult(),s&&(g(this,G)!==r||Ae(this.options.enabled,g(this,G))!==Ae(n.enabled,g(this,G))||At(this.options.staleTime,g(this,G))!==At(n.staleTime,g(this,G)))&&H(this,K,Qo).call(this);const o=H(this,K,Zo).call(this);s&&(g(this,G)!==r||Ae(this.options.enabled,g(this,G))!==Ae(n.enabled,g(this,G))||o!==g(this,xt))&&H(this,K,Jo).call(this,o)}getOptimisticResult(t){const n=g(this,pe).getQueryCache().build(g(this,pe),t),r=this.createResult(n,t);return pw(this,r)&&(M(this,ue,r),M(this,xn,this.options),M(this,Ut,g(this,G).state)),r}getCurrentResult(){return g(this,ue)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){g(this,In).add(t)}getCurrentQuery(){return g(this,G)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=g(this,pe).defaultQueryOptions(t),r=g(this,pe).getQueryCache().build(g(this,pe),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return H(this,K,Kn).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,ue)))}createResult(t,n){var w;const r=g(this,G),s=this.options,o=g(this,ue),i=g(this,Ut),a=g(this,xn),u=t!==r?t.state:g(this,Er),{state:f}=t;let l={...f},d=!1,h;if(n._optimisticResults){const C=this.hasListeners(),A=!C&&bc(t,n),B=C&&gc(t,r,n,s);(A||B)&&(l={...l,...Al(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:m}=l;h=l.data;let v=!1;if(n.placeholderData!==void 0&&h===void 0&&m==="pending"){let C;o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(C=o.data,v=!0):C=typeof n.placeholderData=="function"?n.placeholderData((w=g(this,Pn))==null?void 0:w.state.data,g(this,Pn)):n.placeholderData,C!==void 0&&(m="success",h=Wo(o==null?void 0:o.data,C,n),d=!0)}if(n.select&&h!==void 0&&!v)if(o&&h===(i==null?void 0:i.data)&&n.select===g(this,Pr))h=g(this,En);else try{M(this,Pr,n.select),h=n.select(h),h=Wo(o==null?void 0:o.data,h,n),M(this,En,h),M(this,vt,null)}catch(C){M(this,vt,C)}g(this,vt)&&(y=g(this,vt),h=g(this,En),p=Date.now(),m="error");const E=l.fetchStatus==="fetching",x=m==="pending",P=m==="error",b=x&&E,S=h!==void 0,$={status:m,fetchStatus:l.fetchStatus,isPending:x,isSuccess:m==="success",isError:P,isInitialLoading:b,isLoading:b,data:h,dataUpdatedAt:l.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!x,isLoadingError:P&&!S,isPaused:l.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:P&&S,isStale:Wi(t,n),refetch:this.refetch,promise:g(this,wt),isEnabled:Ae(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=O=>{$.status==="error"?O.reject($.error):$.data!==void 0&&O.resolve($.data)},A=()=>{const O=M(this,wt,$.promise=Ko());C(O)},B=g(this,wt);switch(B.status){case"pending":t.queryHash===r.queryHash&&C(B);break;case"fulfilled":($.status==="error"||$.data!==B.value)&&A();break;case"rejected":($.status!=="error"||$.error!==B.reason)&&A();break}}return $}updateResult(){const t=g(this,ue),n=this.createResult(g(this,G),this.options);if(M(this,Ut,g(this,G).state),M(this,xn,this.options),g(this,Ut).data!==void 0&&M(this,Pn,g(this,G)),as(n,t))return;M(this,ue,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!g(this,In).size)return!0;const i=new Set(o??g(this,In));return this.options.throwOnError&&i.add("error"),Object.keys(g(this,ue)).some(a=>{const c=a;return g(this,ue)[c]!==t[c]&&i.has(c)})};H(this,K,Cl).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&H(this,K,Yo).call(this)}},pe=new WeakMap,G=new WeakMap,Er=new WeakMap,ue=new WeakMap,Ut=new WeakMap,xn=new WeakMap,wt=new WeakMap,vt=new WeakMap,Pr=new WeakMap,En=new WeakMap,Pn=new WeakMap,qt=new WeakMap,Dt=new WeakMap,xt=new WeakMap,In=new WeakMap,K=new WeakSet,Kn=function(t){H(this,K,ti).call(this);let n=g(this,G).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(fe)),n},Qo=function(){H(this,K,Xo).call(this);const t=At(this.options.staleTime,g(this,G));if(Xt||g(this,ue).isStale||!Go(t))return;const r=gl(g(this,ue).dataUpdatedAt,t)+1;M(this,qt,setTimeout(()=>{g(this,ue).isStale||this.updateResult()},r))},Zo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,G)):this.options.refetchInterval)??!1},Jo=function(t){H(this,K,ei).call(this),M(this,xt,t),!(Xt||Ae(this.options.enabled,g(this,G))===!1||!Go(g(this,xt))||g(this,xt)===0)&&M(this,Dt,setInterval(()=>{(this.options.refetchIntervalInBackground||Vi.isFocused())&&H(this,K,Kn).call(this)},g(this,xt)))},Yo=function(){H(this,K,Qo).call(this),H(this,K,Jo).call(this,H(this,K,Zo).call(this))},Xo=function(){g(this,qt)&&(clearTimeout(g(this,qt)),M(this,qt,void 0))},ei=function(){g(this,Dt)&&(clearInterval(g(this,Dt)),M(this,Dt,void 0))},ti=function(){const t=g(this,pe).getQueryCache().build(g(this,pe),this.options);if(t===g(this,G))return;const n=g(this,G);M(this,G,t),M(this,Er,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Cl=function(t){ne.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(g(this,ue))}),g(this,pe).getQueryCache().notify({query:g(this,G),type:"observerResultsUpdated"})})},Cc);function hw(e,t){return Ae(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function bc(e,t){return hw(e,t)||e.state.data!==void 0&&ni(e,t,t.refetchOnMount)}function ni(e,t,n){if(Ae(t.enabled,e)!==!1&&At(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Wi(e,t)}return!1}function gc(e,t,n,r){return(e!==t||Ae(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Wi(e,n)}function Wi(e,t){return Ae(t.enabled,e)!==!1&&e.isStaleByTime(At(t.staleTime,e))}function pw(e,t){return!as(e.getCurrentResult(),t)}var Et,Pt,ye,nt,ot,Zr,ri,Bc,yw=(Bc=class extends Ln{constructor(t,n){super();j(this,ot);j(this,Et);j(this,Pt);j(this,ye);j(this,nt);M(this,Et,t),this.setOptions(n),this.bindMethods(),H(this,ot,Zr).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const n=this.options;this.options=g(this,Et).defaultMutationOptions(t),as(this.options,n)||g(this,Et).getMutationCache().notify({type:"observerOptionsUpdated",mutation:g(this,ye),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&en(n.mutationKey)!==en(this.options.mutationKey)?this.reset():((r=g(this,ye))==null?void 0:r.state.status)==="pending"&&g(this,ye).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=g(this,ye))==null||t.removeObserver(this)}onMutationUpdate(t){H(this,ot,Zr).call(this),H(this,ot,ri).call(this,t)}getCurrentResult(){return g(this,Pt)}reset(){var t;(t=g(this,ye))==null||t.removeObserver(this),M(this,ye,void 0),H(this,ot,Zr).call(this),H(this,ot,ri).call(this)}mutate(t,n){var r;return M(this,nt,n),(r=g(this,ye))==null||r.removeObserver(this),M(this,ye,g(this,Et).getMutationCache().build(g(this,Et),this.options)),g(this,ye).addObserver(this),g(this,ye).execute(t)}},Et=new WeakMap,Pt=new WeakMap,ye=new WeakMap,nt=new WeakMap,ot=new WeakSet,Zr=function(){var n;const t=((n=g(this,ye))==null?void 0:n.state)??$l();M(this,Pt,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ri=function(t){ne.batch(()=>{var n,r,s,o,i,a,c,u;if(g(this,nt)&&this.hasListeners()){const f=g(this,Pt).variables,l=g(this,Pt).context;(t==null?void 0:t.type)==="success"?((r=(n=g(this,nt)).onSuccess)==null||r.call(n,t.data,f,l),(o=(s=g(this,nt)).onSettled)==null||o.call(s,t.data,null,f,l)):(t==null?void 0:t.type)==="error"&&((a=(i=g(this,nt)).onError)==null||a.call(i,t.error,f,l),(u=(c=g(this,nt)).onSettled)==null||u.call(c,void 0,t.error,f,l))}this.listeners.forEach(f=>{f(g(this,Pt))})})},Bc),Bl=V.createContext(void 0),Ol=e=>{const t=V.useContext(Bl);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},n1=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Fl.jsx(Bl.Provider,{value:e,children:t})),Tl=V.createContext(!1),mw=()=>V.useContext(Tl);Tl.Provider;function bw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gw=V.createContext(bw()),ww=()=>V.useContext(gw),vw=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xw=e=>{V.useEffect(()=>{e.clearReset()},[e])},Ew=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||xl(n,[e.error,r])),Pw=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Iw=(e,t)=>e.isLoading&&e.isFetching&&!t,Sw=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,wc=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Aw(e,t,n){var l,d,h,y,p;const r=mw(),s=ww(),o=Ol(),i=o.defaultQueryOptions(e);(d=(l=o.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||d.call(l,i),i._optimisticResults=r?"isRestoring":"optimistic",Pw(i),vw(i,s),xw(s);const a=!o.getQueryCache().get(i.queryHash),[c]=V.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),f=!r&&e.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(m=>{const v=f?c.subscribe(ne.batchCalls(m)):fe;return c.updateResult(),v},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),V.useEffect(()=>{c.setOptions(i)},[i,c]),Sw(i,u))throw wc(i,c,s);if(Ew({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((y=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||y.call(h,i,u),i.experimental_prefetchInRender&&!Xt&&Iw(u,r)){const m=a?wc(i,c,s):(p=o.getQueryCache().get(i.queryHash))==null?void 0:p.promise;m==null||m.catch(fe).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function $w(e,t){return Aw(e,dw)}function Ts(e,t){const n=Ol(),[r]=V.useState(()=>new yw(n,e));V.useEffect(()=>{r.setOptions(e)},[r,e]);const s=V.useSyncExternalStore(V.useCallback(i=>r.subscribe(ne.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=V.useCallback((i,a)=>{r.mutate(i,a).catch(fe)},[r]);if(s.error&&xl(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function Ki(e){const t=$w({...e,queryKeyHashFn:zg});return t.queryKey=e.queryKey,t}function Qi(e={}){const t=we(e);return V.useSyncExternalStore(n=>sg(t,{onChange:n}),()=>Xa(t),()=>Xa(t))}function r1(e={}){const{address:t,query:n={}}=e,r=we(e),s=Qi({config:r}),o=Dg(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return Ki({...n,...o,enabled:i})}function Cw(e={}){const t=we(e);return V.useSyncExternalStore(n=>Rg(t,{onChange:n}),()=>ec(t),()=>ec(t))}function Bw(e={}){const t=we(e);return V.useSyncExternalStore(n=>ig(t,{onChange:n}),()=>tc(t),()=>tc(t))}function s1(e={}){const{mutation:t}=e,n=we(e),r=Ug(n),{mutate:s,mutateAsync:o,...i}=Ts({...t,...r});return V.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&i.reset()}),[n,i.reset]),{...i,connect:s,connectAsync:o,connectors:Bw({config:n})}}function Ow(e={}){const t=we(e);return V.useSyncExternalStore(n=>og(t,{onChange:n}),()=>Uo(t),()=>Uo(t))}function o1(e={}){const{mutation:t}=e,n=we(e),r=qg(n),{mutate:s,mutateAsync:o,...i}=Ts({...t,...r});return{...i,connectors:Ow({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:o}}function i1(e={}){const{name:t,query:n={}}=e,r=we(e),s=Qi({config:r}),o=Gg(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return Ki({...n,...o,enabled:i})}function a1(e={}){const{address:t,query:n={}}=e,r=we(e),s=Qi({config:r}),o=Wg(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return Ki({...n,...o,enabled:i})}function c1(e={}){const t=we(e);return bl.useSyncExternalStoreWithSelector(n=>ag(t,{onChange:n}),()=>qo(t,e),()=>qo(t,e),n=>n,(n,r)=>(n==null?void 0:n.uid)===(r==null?void 0:r.uid))}function u1(e={}){const{mutation:t}=e,n=we(e),r=Qg(n),{mutate:s,mutateAsync:o,...i}=Ts({...t,...r});return{...i,signMessage:s,signMessageAsync:o}}function f1(e={}){const{mutation:t}=e,n=we(e),r=Zg(n),{mutate:s,mutateAsync:o,...i}=Ts({...t,...r});return{...i,chains:Cw({config:n}),switchChain:s,switchChainAsync:o}}export{tg as A,Qi as B,t1 as Q,Rw as R,ae as U,Yw as W,nu as _,we as a,c1 as b,Xw as c,Gw as d,r1 as e,s1 as f,o1 as g,f1 as h,u1 as i,Fl as j,a1 as k,$w as l,i1 as m,Ce as n,Vw as o,Ww as p,Jw as q,V as r,qi as s,n1 as t,e1 as u,ju as v,Kb as w,Kw as x,Zw as y,Qw as z};
